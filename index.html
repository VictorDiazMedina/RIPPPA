<html lang="es-MX" class="" style="height: auto;"><head>

    <title>UAEM | RIPPPA</title>
    <meta charset="utf-8">
    <meta name="csrf-token" content="DXfReZHfKYJS5uPGD5nZaVHoMflOFsKuS1Jde4Nf">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="https://ripppajesus.uaem.mx/favicon.ico">

    
    <link rel="stylesheet" href="https://ripppajesus.uaem.mx/template/adminlte3.2/plugins/font-awesome/css/all.css">
    <link rel="stylesheet" href="https://ripppajesus.uaem.mx/template/adminlte3.2/dist/css/adminlte.min.css">
    <link rel="stylesheet" href="https://ripppajesus.uaem.mx/template/adminlte3.2/dist/css/estilos.css">
    <!-- <link rel="stylesheet" href="https://ripppajesus.uaem.mx/css/app.css"> -->
    <!-- <link rel="stylesheet" href="https://ripppajesus.uaem.mx/template/amaranJS/dist/css/amaran.min.css" media="all"> -->
    <link href="https://ripppajesus.uaem.mx/css/select2.min.css" rel="stylesheet">

    <!-- <link rel="stylesheet" href="https://ripppajesus.uaem.mx/template/css-loader/css-loader.css" media="all"> -->
    <link href="https://ripppajesus.uaem.mx/css/datatables.min.css" rel="stylesheet">
    <link href="https://ripppajesus.uaem.mx/css/bootstrap.min.css" rel="stylesheet">


    <link href="https://ripppajesus.uaem.mx/css/bootstrap4.min.css" rel="stylesheet">

    <style type="text/css">
        .traveller-divider {
            position: relative;
        }

        .inline-block {
            display: inline-block;
            padding: 5px 10px;
            background: white;
            position: relative;
            z-index: 2;
        }

        .cutom-hr {
            position: absolute;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            width: 100%;
            margin: 0;
            z-index: 1;
            width: 100%;
            height: 3px;
            border-width: 3;
            color: green;
            background-color: green;
        }

        .formcls {
            padding: 9px;
            border: solid 1px #61f04e;
            outline: 0;
            background: -webkit-gradient(linear, left top, left 25, from(#FFFFFF), color-stop(4%, #9ff7ce), to(#FFFFFF));
            background: -moz-linear-gradient(top, #FFFFFF, #caf79f 1px, #FFFFFF 25px);
            box-shadow: rgba(0,0,0, 0.1) 0px 0px 8px;
            -moz-box-shadow: rgba(0,0,0, 0.1) 0px 0px 8px;
            -webkit-box-shadow: rgba(0,0,0, 0.1) 0px 0px 8px;
        }

        select[multiple], select[size] {
            height: auto !important;
        }


        .card-bg-blue {
            background-color: #012553 !important;
            border-color: #012553 !important;
            color: white !important;
        }

    .custom-container {
            max-width: 100% ;
            padding-right: 15px;
            padding-left: 15px;
            margin-right: auto;
            margin-left: auto;
        }
        @media (min-width: 576px) {
            .custom-container {
                max-width: 540px; /* New max-width for extra-small screens */
            }
        }
        @media (min-width: 768px) {
            .custom-container {
                max-width: 700px; /* New max-width for small screens */
            }
        }
        @media (min-width: 992px) {
            .custom-container {
                max-width: 960px; /* New max-width for medium screens */
            }
        }

        /* Adjust the container sizes for different breakpoints */
        @media (min-width: 1200px) {
            .custom-container {
                max-width: 1340px;
                /* New max-width for large screens */
            }
        }
        .wrapper{
             background-color: #f8f9fa !important;
        }
        .content-wrapper {
        min-height: 92vh;
        padding-bottom: 50px;
        margin-left: 50px !important;
        background-color: #f8f9fa !important;
        }

    </style>
    
<style>.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}</style></head>


<body class="sidebar-mini" style="background-color: rgb(248, 249, 250) !important; height: auto;"><nav class=" navbar navbar-expand bg-white navbar-light border-bottom fixed-top">
<div style="margin-left: 20px;">
    <img class="" style="width: 250px;" src="https://ripppajesus.uaem.mx/images/logos/img_logo.png">
</div>
<!-- Modal -->
<div class="modal fade" id="tutorialModal" tabindex="-1" aria-labelledby="tutorialModalLabel" aria-hidden="true">
<div class="modal-dialog modal-lg">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="tutorialModalLabel" style="color:black">Tutorial</h5>
            <!-- Botón de cierre -->
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">×</span>
            </button>
        </div>
        <div class="modal-body">
            <video controls="" class="w-100">
                <source src="https://ripppajesus.uaem.mx/cedula/tutorial/video" type="video/mp4">
                Tu navegador no soporta la reproducción de video.
            </video>
        </div>
    </div>
</div>
</div>

<!-- Estilos personalizados -->
<style>
 .modal-backdrop {
    z-index: 1020 !important; /* Reducir el índice z para que el fondo no interfiera solo en este modal */
}

#tutorialModal .modal-dialog {
    z-index: 1090 !important; /* Asegurarse de que el modal esté encima del fondo solo en este modal */
}
#tutorialModal .modal-header {
    background-color: white !important; /* Fondo blanco para el encabezado */
    color: black !important; /* Texto negro */
    border-bottom: none !important; /* Eliminar el borde inferior */
}
</style>

            <div style="display: flex; gap: 10px;margin-left:10px;">
        <!-- Enlace a RIPPA -->
        <a class="nav-link" id="rippaLink" href="https://ripppajesus.uaem.mx/evaluado" style="display: none;">
        <i class="fa fa-arrow-right"></i> Ver Personas a Evaluar
        </a>
        <!-- Enlace a Cédula Curricular -->
    </div>
    <ul class="navbar-nav ml-auto">

    <li class="nav-item dropdown">
        

    </li>
                <li class="nav-item dropdown" style="margin-left:10px;">
            <div class="container-fluid">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDarkDropdown2" aria-controls="navbarNavDarkDropdown2" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavDarkDropdown2">
                    <ul class="navbar-nav">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDarkDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="fa fa-info-circle" aria-hidden="true"></i> Información
                            </a>
                            <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="navbarDarkDropdownMenuLink">
                                <li style="display: flex; gap: 10px;">
                                    <a class="nav-link" href="https://ripppajesus.uaem.mx/getFileAyudas?manualUs=1" target="_blank">
                                        <i class="far fa-question-circle mr-1"></i> Manual de Usuario
                                    </a>
                                </li>
                                                                    <li class="nav-item dropdown">
                                    <div style="display: flex; gap: 10px;">
                                        <a class="nav-link" href="https://ripppajesus.uaem.mx/getFileAyudas?manual_atc=1" target="_blank">
                                            <i class="far fa-question-circle mr-1"></i>Manual de Evaluador
                                        </a>
                                    </div>
                                </li>
                                                                    <li style="display: flex; gap: 10px;">
                                    <a class="nav-link open-modal" id="tutorial">
                                        <i class="fas fa-video mr-1"></i> Tutorial
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </li>
        <li class="nav-item dropdown">
            <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDarkDropdown" aria-controls="navbarNavDarkDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDarkDropdown">
                <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDarkDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Reglamentos
                    </a>
                    <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="navbarDarkDropdownMenuLink">
                        <li style="display: flex; gap: 10px;">
                            <a class="nav-link" href="https://ripppajesus.uaem.mx/getFileAyudas?manual_ESDEPED=1" target="_blank">
                                <i class="far fa-question-circle mr-1"></i>Reglamento ESDEPED
                            </a>
                        </li>
                                                        <li style="display: flex; gap: 10px;">
                                <a class="nav-link" href="https://ripppajesus.uaem.mx/getFileAyudas?manual_ripppa=1" target="_blank">
                                    <i class="far fa-question-circle mr-1"></i>RIPPPA
                                </a>
                            </li>
                        
                    </ul>
                </li>
                </ul>
            </div>
            </div>
        </li>
        <a class="nav-link" href="javascript:void(0);" onclick="showSupportInfo()">
            <i class="fas fa-headset"></i> Soporte
        </a>
    

    <li class="nav-item dropdown">
        <a class="nav-link" data-bs-toggle="dropdown" href="#">
            <i class="far fa-user-circle mr-1"></i>
            <span class="salir">ANA ESTHER ESCALANTE FERRER</span>
        </a>
        <div class="dropdown-menu dropdown-menu-end" style="min-width: 220px; white-space: normal;">
            <a href="https://ripppajesus.uaem.mx/user/social/logout" class="dropdown-item">
                <i class="fas fa-power-off mr-1"></i> Cerrar sesión
            </a>

                            <a href="https://ripppajesus.uaem.mx/regresarUsuario" class="dropdown-item">
                <i class="fas fa-arrow-left"></i> Volver al súper usuario
            </a>
                        </div>
    </li>


</ul>


</nav>
<script>
function sendMessageAndRedirect(event) {
event.preventDefault();  // Evitar que el enlace se siga automáticamente

// Recuperar el mensaje de sessionStorage
let successMessage = sessionStorage.getItem('successMessage');

// Enviar el mensaje al backend usando Fetch
fetch('https://ripppajesus.uaem.mx/guardar-mensaje', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'X-CSRF-TOKEN': 'DXfReZHfKYJS5uPGD5nZaVHoMflOFsKuS1Jde4Nf' // Incluye el token CSRF para la seguridad
    },
    body: JSON.stringify({
        message: successMessage
    })
})
.then(response => response.json())
.then(data => {
    // Después de guardar el mensaje en la sesión, redirigir a la ruta
    window.location.href = 'https://ripppajesus.uaem.mx/patc';
})
.catch(error => console.error('Error:', error));
}


</script>



    <div class="wrapper">
        <div class="content-wrapper2 ">

            <section class="content">
                <div class="custom-container">
                <div style="margin-top:35px !important;">
                            <div class="text-center">
    <img class="img-fluid animate__animated animate__fadeInUp" src="https://ripppajesus.uaem.mx/images/permanencia.png" style="width:39%;">
</div>
                </div>
                <br>
                    <!-- <div class="d-flex justify-content-center mt-4">
                        <h1 style="color: #000e62; font-size: 32px; font-weight: bold;">Reporte histórico</h1>  -->
                        <!-- Título con valor por defecto -->
                    <!-- </div> -->

                    <!-- <div class="d-flex justify-content-center mt-4">
                        <img src="https://ripppajesus.uaem.mx/images/logo.svg" alt="logo" class="img-fluid" width="250">
                    </div>
                    <br> -->
                    <style>
/* --- Scope: solo para el contenedor donde pegas el HTML --- */
#contenedor .accordion {
border-radius: 14px;   /* redondeo general si quieres */
overflow: visible;
}

/* Cada item del acordeón aparece como tarjeta redondeada */
#contenedor .accordion .accordion-item {

border: 1px solid rgba(0,0,0,0.06) !important;
border-radius: 40px !important;         /* redondeo del item */
overflow: hidden;
margin-bottom: 12px;
box-shadow: none !important;
}

/* Quitar / ajustar el borde por defecto del header */
#contenedor .accordion .accordion-header {
    background-color: #f2f2f3 !important;   /* fondo pedido */
margin: 0;
}

/* Botón del header: transparente y redondeado */
#contenedor .accordion-button {
background: transparent !important;    /* no use el fondo por defecto */
border: none !important;
padding: 0.9rem 1.25rem;
border-radius: 12px !important;        /* para que se vea redondeado */
color: #000e62 !important;
display: flex;
align-items: center;
gap: .5rem;
}

/* Cuando está abierto, el botón mantiene el redondeo en la parte superior */
#contenedor .accordion-button:not(.collapsed) {
background: rgba(0,14,98,0.04) !important; /* sutil */
border-radius: 12px 12px 0 0 !important;
}

/* El contenido colapsado (body) con redondeo abajo */
#contenedor .accordion-collapse .accordion-body {
background-color: transparent !important; /* el item ya trae el fondo */
padding: 1rem 1.25rem;
border-radius: 0 0 12px 12px !important;
}

/* Si dentro tienes .card.mb-3 (las pequeñas), que también sean redondeadas */
#contenedor .card.mb-3 {
background-color: #ffffff !important; /* contraste: card interna blanca */
border-radius: 10px !important;
border: 1px solid rgba(0,0,0,0.04) !important;
box-shadow: none !important;
}

/* Ajuste del título/numero en la descripción */
#contenedor .numero-circulo {
display: inline-block;
width: 30px;
height: 30px;
line-height: 30px;
text-align: center;
border-radius: 50%;
background: #000e62;
color: #fff;
margin-right: 10px;
font-weight: 600;
}

.custom-card {
    background-color: #ffffff;
    box-shadow: none !important;      /* quita "iluminado" */
    border-radius: 40px !important;      /* quita redondeado */
    border: 1px solid #e6e6e6;        /* borde general ligero */
    overflow: hidden;
}
/* Header en blanco (antes era #000e62) */
.custom-card .card-header {
background-color: #f2f2f3 !important;
color: #000e62;
border-bottom: none;
cursor: pointer;
padding: .75rem 1rem;
}
/* Iconos en color principal y con transición para rotar el chevron */
.icon-azul {
    color: #162ba1;
    transition: transform .18s ease, color .18s ease;
    display: inline-block;
}
/* Ajuste del h5 para alineación */
.custom-card .card-header h5 {
    display: flex;
    align-items: center;
    gap: .5rem;
    margin: 0;
}
/* Badge: blanco con texto #000e62 (mantener estilo) */
.custom-card .badge {
    background-color: #ffffff;
    color: #000e62;
    border: 2px solid rgba(0,14,98, .06);
}
/* Evitar foco/outline al hacer click (opcional) */
.custom-card .card-header:focus {
    outline: none;
    box-shadow: none;
}
.cursor-pointer {
    cursor: pointer;
}

.table {
    font-size: 13px;
    border-radius: 12px;
    overflow: hidden;
}

.table thead th {
    background: #f0f0f0;
    color: #000e62;
    font-weight: bold;
}

.table-hover tbody tr:hover {
    background-color: #f2f6ff;
}

h4 {
    text-shadow: 0px 1px 2px rgba(0,0,0,0.15);
}
.card-header {
    font-weight: bold;
    font-size: 1.2em;
    background-color:#000e62 !important;
    color: #FFFFFF !important;
    scroll-margin-top: 100px;
}
.swal2-container {
    z-index: 300000;
}
.tableInfo{
    width: 100%;
    font-size: 12px;
    text-align: center;
}
.tableInfo {
    border-collapse: collapse;
}

.tableInfo th,
.tableInfo td {
    border: 1px solid #bdbaba;
}

.nCrit{
    font-size: 20px;
    padding: 8px;
    color:#0e0664;
}
.txtBold{
    font-weight: bold;
}

.regresar-btn:active i {
    transform: scale(1.5); /* Agrandar el icono al hacer clic */
}
#nivelFinalSelect {
    font-size: 40px;
    text-align: center;
    padding: 10px;
    border-radius: 8px;
    border: 2px solid rgb(0, 14, 98);
    background-color: rgb(248, 249, 250);
    color: rgb(0, 14, 98);
    font-weight: bold;
    display: block; /* Asegura que sea un bloque */
    width: 100%; /* Asegura que ocupe todo el ancho disponible */
}
.profile-card-inf__title {
    font-weight: 700;
    font-size: 22px;
    color: #000e62;
    margin-left: 86px;
}
.profile-card-inf__txt {
    font-weight: 500;
    margin-top: 5px;
}
.center-text {
    text-align: center;
    vertical-align: middle; /* Centrar verticalmente */
}
/* Tooltip personalizado */
.regresar-btn {
    position: relative;
}
select:disabled {
    background-color: #e9ecef !important;  /* Color de fondo deshabilitado */
    color: #6c757d !important;  /* Color de texto deshabilitado */
    cursor: not-allowed !important;  /* Cursor de no permitido */
}
.profile-card {
  background: #fff;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  max-width: 600px;
  margin: 0 auto;
  overflow: hidden;
}
.profile-card__header {
  background: #000e62;
  color: #fff;
  padding: 15px 20px;
  font-size: 1.2em;
}
.profile-card__body {
  padding: 20px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 20px;
}
.profile-card__item {
  background: #f9f9f9;
  padding: 15px;
  border-radius: 6px;
  text-align: center;
}
.profile-card__item-number {
  font-size: 1.5em;
  font-weight: bold;
  color: #333;
  margin-bottom: 5px;
}
.profile-card__item-text {
  font-size: 0.95em;
  color: #666;
}
.profile-card__footer {
  padding: 15px 20px;
  text-align: right;
  border-top: 1px solid #eee;
}

/* Modal */
.modal {
  display: none; /* Oculto por defecto */
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background: rgba(0, 0, 0, 0.5);
}
.modal__content {
  background: #fff;
  margin: 10% auto;
  padding: 20px;
  border-radius: 8px;
  max-width: 500px;
  position: relative;
}
.modal__close {
  position: absolute;
  top: 10px;
  right: 15px;
  font-size: 1.5em;
  cursor: pointer;
  color: #aaa;
}
.modal__close:hover {
  color: #000;
}
.modal textarea {
  width: 100%;
  height: 150px;
  padding: 10px;
  font-size: 1em;
  border: 1px solid #ccc;
  border-radius: 4px;
  resize: vertical;
}
.modal .btn {
  margin-top: 10px;
  float: right;
}
.regresar-btn:hover::after {
    content: attr(title);
    position: absolute;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #000e62 !important;
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 12px;
    white-space: nowrap;
    z-index: 1000;
}
.titulo-evaluado {
    color: #000e62;
}
.btn-pdf {
    background-color: #000e62; /* Color de fondo del botón */
    border-color: #000e62; /* Color del borde del botón */
    color: #ffffff; /* Color del texto del botón */
}

.btn-pdf:hover, .btn-pdf:focus, .btn-pdf:active {
    background-color: #000e62; /* Mantener el color de fondo en hover, focus y active */
    border-color: #000e62; /* Mantener el color del borde en hover, focus y active */
    color: #ffffff; /* Mantener el color del texto en hover, focus y active */
}

.list-item {
    font-size: 1em;
    font-weight: bold;
    margin: 5px 0;
    padding-left: 30px;
    list-style-type: none;
    position: relative;
}
.list-item::before {
    content: '';
    display: inline-block;
    width: 6px;
    height: 6px;
    background-color: #4a148c;
    border-radius: 50%;
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
}
.regresar-btn:hover::after {
    opacity: 1;
    visibility: visible;
    transition: opacity 0.3s ease;
}

.regresar-btn::after {
    opacity: 0;
    visibility: hidden;
}
.timeline {
    position: relative;
    max-height:700px;
}

.timeline-event {
position: relative;
margin-bottom: 20px;
display: flex;
align-items: center;

}

/* .timeline-text {
font-size: 11px;
font-weight: bold;
transition: all 0.1s ease-in-out;
} */

/* .timeline-text:hover {
font-size: 15px;
font-weight: bold;
color: #000e62;
} */

.timeline-event:hover .timeline-event-icon {
    display: block;
    background-color: #c1cfff;
    color: #001660;
    position: absolute;
    /* left: 1.3em;
    width: 1.5em;
    height: 1.5em; */
    border-radius: 50%;
    transform: scale(1.5);
    transition: transform 0.2s;
}

.timeline-event-copy {
padding: 0.2em;
margin-left: 2em;
width: 90%;
}

.timeline-event-icon {
background-color: #001660;
color:white;

outline: 4px solid white;
display: block;
position: absolute;
/* left: 1em;
width: 1em;
height: 1em; */
.puntajes {
    font-size: 0.9em;
    color: #e1f1f1bd !important; /* Color claro para .puntajes */
}

.puntaje {
    font-size: 0.9em;
    color: #797e7e77 !important; /* Color oscuro para .puntaje */
}

[class^="puntaje-"] {
    font-size: 0.9em;
    color: #3b5e5e !important; /* Esto afecta a clases como puntaje-141, puntaje-142, etc. */
}
border-radius: 50%;
}

.timeline {
    max-height: 700px;
}
.timeline-event {
    margin-bottom: 20px;
}
.timeline-text {
    font-size: 14px;
}
.timeline-text:hover {
    font-size: 18px;
}
.timeline-event-copy {
    margin-left: 2em;
    width: 80%;
}
.timeline-event-icon {
    left: 1.5em;
    width: 2em;
    height: 2em;
}
.timelineSide {
    top: 100;
    left: 0;
    position: fixed;
}



     /* barra estatus */
     .progress-title{
    font-size: 18px;
    font-weight: 700;
    color: #000;
    margin: 0 0 30px;
}
.progress{
    height: 30px;
    background: rgba(0,0,0,0.1);
    border-radius: 15px;
    margin-bottom: 30px;
    overflow: visible;
    position: relative;
}
.progress .progress-bar{
    border-radius: 15px;
    box-shadow: none;
    position: relative;
    animation: animate-positive 2s;
    background:#000664;
}
.progress .progress-icon,
.progress .progress-value{
    width: 50px;
    height: 50px;
    border-radius: 50%;
    line-height: 40px;
    background: #fff;
    border: 7px solid #003c7c;
    font-size:20px;
    font-weight: 600;
    color: #003c7c;
    position: absolute;
    top: -10px;
    right: -5px;
}
.progress .progress-icon{
    right: auto;
    left: -5px;
}
.progress.orange .progress-icon,
.progress.orange .progress-value{
    border: 7px solid #000664;
    color: #000664;
}
@-webkit-keyframes animate-positive{
    0%{ width: 0; }
}
@keyframes animate-positive{
    0%{ width: 0; }
}
/* barra estatus */
.fontT{
    font-size:20px;
    font-weight: bold;
    color: #000664;
}
.btn_under  {
    background-color:#000664;
    color:#fff;
    border-color: #000664;
}

.btn_under:focus {
    background-color:#fff;
    color:#000664;
    border-color: #000664;
}
.btn_under:hover {
    background-color:#fff;
    color:#000664;
    border-color: #000664;
}


</style>
<div class="modal fade" id="modalVerActualizar" tabindex="-1" aria-labelledby="modalVerActualizarLabel" aria-hidden="true">
<div class="modal-dialog modal-lg">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="modalVerActualizarLabel">Ver y Actualizar Observaciones</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body">
            <form id="formActualizarObservaciones">
                <div class="mb-3">
                    <label for="observaciones" class="form-label">Observaciones</label>
                    <textarea class="form-control" id="observaciones" rows="5"></textarea>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            <button type="button" class="btn btn-primary" onclick="actualizarObservaciones()">Actualizar</button>
        </div>
    </div>
</div>
</div>
<!-- Modal para ver y editar observaciones -->
<div class="modal fade" id="observationModal" tabindex="-1" role="dialog" aria-labelledby="observationModalLabel" aria-hidden="true">
<div class="modal-dialog" role="document">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="observationModalLabel">Observaciones</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
                <span aria-hidden="true">×</span>
            </button>
        </div>
        <div class="modal-body">
            <!-- Mostrar las observaciones o área de texto para editar -->
            <div id="observacionTexto" style="display: none;">
                <div id="selectObservacionContainer1"></div>
                <p id="observacionesMostrar"></p>
                <button type="button" class="btn" id="editarObservacionBtn" style="background-color: #000e62; color: white;">
                    <i class="fa fa-pencil-alt" style="color: white;"></i>
                </button>
            </div>
            <div id="editarObservacion" style="display: none;">
                <textarea class="form-control" id="observacionTextarea" rows="5" placeholder="Ingrese sus observaciones aquí..."></textarea>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
            <button type="button" class="btn btn-primary" id="guardarObservacionBtn" style="display: none;">Guardar Observación</button>
            <button type="button" class="btn btn-primary" id="btnEnviarObservaciones" style="display: none;">Enviar Observaciones</button>
        </div>
    </div>
</div>
</div>
<!-- Modal para visualizar PDF -->
<div class="modal fade" id="pdfModal" tabindex="-1" aria-labelledby="pdfModalLabel" aria-hidden="true" style="z-index: 1060important;">
<div class="modal-dialog modal-lg">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="pdfModalLabel">Visualizar Documento</h5>
            <button type="button" class="close" data-bs-dismiss="modal" aria-label="Cerrar">
                <span aria-hidden="true">×</span>
            </button>
        </div>
        <div class="modal-body">
            <div id="pdfMessage" class="text-center text-danger" style="display:none; font-weight:normal;" width="100%" height="500px">
                <!-- Aquí va el mensaje de error -->
            </div>
            <iframe id="pdfViewer" src="" width="100%" height="500px" frameborder="0"></iframe>
        </div>
    </div>
</div>
</div>
<!-- Modal Ver Estatus -->
<div class="modal fade" id="modalVerEstatus" tabindex="-1" role="dialog" aria-labelledby="modalVerEstatusLabel" aria-hidden="true">
<div class="modal-dialog modal-xl modal-dialog-centered" role="document" style="overflow: visible; position: relative;">
<div class="modal-content" style="overflow: visible; position: relative;">

  <!-- Botón Anterior -->
    <button id="btnPrevCedula" class="position-absolute top-50 translate-middle-y" style="
            left: -40px;
            z-index: 1060;
            background: transparent;
            border: none;
            color: white;
            padding: 0;
            ">
    <i class="fa fa-chevron-left fa-2x"></i>
    </button>

    <!-- Botón Siguiente -->
    <button id="btnNextCedula" class="position-absolute top-50 translate-middle-y" style="
            right: -40px;
            z-index: 1060;
            background: transparent;
            border: none;
            color: white;
            padding: 0;
            ">
    <i class="fa fa-chevron-right fa-2x"></i>
    </button>
    <div class="modal-header">
        <!-- Texto añadido -->
        <h6 class="text-dark mb-1">Actividad:&nbsp;</h6>

        <!-- Texto original -->
        <h6 id="texto_apartadoHijo" class="text-muted"></h6>

        <button type="button" class="close" data-bs-dismiss="modal">×</button>
    </div>


  <div class="modal-body position-relative" style="overflow: visible;">
    <div class="row gx-4 gy-3 d-flex flex-wrap">

      <!-- PDF lado izquierdo -->
      <div class="col-md-7 d-flex flex-column">
        <iframe id="pdfEstatusIframe" class="w-100 h-100" style="min-height: 500px;" frameborder="0"></iframe>
      </div>

      <!-- Información lado derecho -->
      <div class="col-md-5 d-flex flex-column">
        <div class="card p-3 h-100 d-flex flex-column justify-content-between">

          <div class="flex-grow-1">
            <!-- Apartado -->
            <div class="mb-1" id="div_apartado">
              <h6 class="mb-1">Apartado</h6>
              <p id="texto_apartado" class="mb-2"></p>
            </div>
            <hr>

            <!-- Fechas -->
            <div class="row" id="div_Radios" style="display:none;">
              <h6 class="mb-1">Estatus</h6>
              <p id="texto_estatus"></p>
            </div>
            <div class="row">
              <div class="col-6" id="div_fecha1">
                <h6 class="mb-1" id="txt_fecha1">Inicio:</h6>
                <p id="texto_fecha1"></p>
              </div>
              <div class="col-6" id="div_fecha2">
                <h6 class="mb-1" id="txt_fecha2">Término:</h6>
                <p id="texto_fecha2"></p>
              </div>
              <div class="col-12" id="div_fecha3">
                <h6 class="mb-1" id="txt_fecha3">Fecha 3:</h6>
                <p id="texto_fecha3"></p>
              </div>
            </div>

            <!-- Ítems 1–5 -->
            <div class="row">
              <div class="col-6" id="div_item1">
                <h6 class="mb-1" id="txt_Item1">Item 1:</h6>
                <p id="texto_item1"></p>
              </div>
              <div class="col-6" id="div_item2">
                <h6 class="mb-1" id="txt_Item2">Item 2:</h6>
                <p id="texto_item2"></p>
              </div>
            </div>
            <div class="row">
              <div class="col-6" id="div_item3">
                <h6 class="mb-1" id="txt_Item3">Item 3:</h6>
                <p id="texto_item3"></p>
              </div>
              <div class="col-6" id="div_item4">
                <h6 class="mb-1" id="txt_Item4">Item 4:</h6>
                <p id="texto_item4"></p>
              </div>
              <div class="col-6" id="div_item5">
                <h6 class="mb-1" id="txt_Item5">Item 5:</h6>
                <p id="texto_item5"></p>
              </div>
            </div>

            <!-- Ítems 6–9 -->
            <div class="row">
              <div class="col-6" id="div_item6">
                <h6 class="mb-1" id="txt_Item6">Item 6:</h6>
                <p id="texto_item6" class="form-control-plaintext"></p>
              </div>
              <div class="col-6" id="div_item7">
                <h6 class="mb-1" id="txt_Item7">Item 7:</h6>
                <p id="texto_item7" class="form-control-plaintext"></p>
              </div>
            </div>
            <div class="row">
              <div class="col-6" id="div_item8">
                <h6 class="mb-1" id="txt_Item8">Item 8:</h6>
                <p id="texto_item8" class="form-control-plaintext"></p>
              </div>
              <div class="col-6" id="div_item9">
                <h6 class="mb-1" id="txt_Item9">Item 9:</h6>
                <p id="texto_item9" class="form-control-plaintext"></p>
              </div>
            </div>

            <!-- Convocatoria, Participación, Categoría, Unidad Académica -->
            <div class="mb-1" id="div_Convocatoria">
              <h6 class="mb-1">Convocatoria</h6>
              <p id="texto_convocatoria"></p>
            </div>
            <div class="mb-1" id="div_Participacion">
              <h6 class="mb-1">Participación</h6>
              <p id="texto_participacion"></p>
            </div>
            <div class="mb-1" id="div_Categoria">
              <h6 class="mb-1">Categoría</h6>
              <p id="texto_categoria"></p>
            </div>
            <div class="mb-1" id="div_UnidadAcad">
              <h6 class="mb-1">Unidad Académica</h6>
              <p id="texto_unidad"></p>
            </div>

            <!-- Notas u Observaciones -->
            <div class="mb-1" id="div_notas_estatus">
              <h6 class="mb-1">Notas u Observaciones</h6>
              <p id="texto_notas"></p>
            </div>
          </div>

          <!-- Botones Aprobar / Rechazar -->
          <div class="d-flex justify-content-between mt-4">
            <button class="btn btn-sm" style="background-color: #000e62; color: white;" id="btnAprobar">
              <i class="fa fa-check" style="color: #90EE90;" aria-hidden="true"></i> Aprobar
            </button>
            <button class="btn btn-sm" style="background-color: #000e62; color: white;" id="btnRechazar">
              <i class="fa fa-times" style="color: #FF7F7F;" aria-hidden="true"></i> Rechazar
            </button>
          </div>

        </div>
      </div>

    </div>
  </div>

</div>
</div>
</div>

<style>
/* Permitir overflow en modal-dialog y modal-content */
.modal-dialog,
.modal-content {
overflow: visible;
position: relative;
}

#btnPrevCedula i,
#btnNextCedula i {
font-size: 1.5rem; /* ajusta a tu gusto */
}

</style>


<!-- Botón de Regresar -->
<nav class="breadcrumb-custom mb-4">

<a href="https://ripppajesus.uaem.mx/pitc" class="bc-home me-1">
<i class="fas fa-home"></i>
</a>
        <span class="bc-sep mx-2">&gt;</span>
  <span class="bc-label-active">Permanencia para nivel esdeped</span>
  </nav>

<style>
.breadcrumb-custom {
display: inline-flex;
align-items: center;
background: transparent;
border: 1px solid #0b47a5;
border-radius: 50px;
padding: 0.25rem 0.75rem;
font-size: 0.85rem;
}
/* Links and inactive labels */
.breadcrumb-custom a.bc-home,
.breadcrumb-custom a.bc-label {
color: #0b47a5;   /* Color for non-active items */
text-decoration: none;
line-height: 1;
}
/* Active label */
.breadcrumb-custom .bc-label-active {
color: #000e62;   /* Color for active item */
font-weight: bold;
line-height: 1;
}
.breadcrumb-custom .bc-sep {
color: #0b47a5;
font-size: 0.9rem;
line-height: 1;
}
.breadcrumb-custom .bc-home i {
font-size: 0.9rem;
}
</style>
<div class="d-flex justify-content-center gap-4 my-4 flex-wrap">
    <!-- Tarjeta Solicitar Permanencia -->
    <a href="" class="text-decoration-none">
        <div class="card text-center shadow-sm rounded-4 p-3" style="width: 250px; background-color:#000e62; color:white; transition: transform 0.2s;">
            <i class="fas fa-file-signature fa-2x mb-2"></i>
            <h6 class="fw-bold">Solicitar Permanencia Nivel ESDEPED</h6>
        </div>
    </a>

    <!-- Tarjeta Reporte PDF -->
    <a href="https://ripppajesus.uaem.mx/reporte/permanencia" target="_blank" class="text-decoration-none">
        <div class="card text-center shadow-sm rounded-4 p-3" style="width: 250px; background-color:#ffffff; color:#000e62; border: 2px solid #000e62; transition: transform 0.2s;">
            <i class="fas fa-file-pdf fa-2x mb-2"></i>
            <h6 class="fw-bold">Reporte de Permanencia ESDEPED</h6>
        </div>
    </a>
</div>
<!--<div class="table-responsive shadow rounded-3 mt-3">
    <table id="actividadesDataTable" class="table table-hover table-bordered align-middle text-center mb-0" style="width:100%">
        <thead>
            <tr>
                <th>Tipo de Actividad</th>
                <th>Actividades</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>-->

<div class="card mb-4" style="background-color: white;">
<div class="card-header">
    <h3>Actividad</h3>
</div>
<div class="card-body">
    <ul class="nav nav-tabs" id="actividadesTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link" id="prodep-tab" data-toggle="tab" href="#prodep-content" role="tab" aria-controls="prodep-content" aria-selected="false" style="
/* color: #ffffff !important; */
">
                <i class="fa fa-user" aria-hidden="true"></i> PRODEP
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="docencia-tab" data-toggle="tab" href="#docencia-content" role="tab" aria-controls="docencia-content" aria-selected="false">
                <i class="fa fa-book" aria-hidden="true"></i> Docencia
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link active" id="extension-tab" data-toggle="tab" href="#extension-content" role="tab" aria-controls="extension-content" aria-selected="true">
                <i class="fa fa-users" aria-hidden="true"></i> Extensión
            </a>
        </li>
    </ul>
    <div class="tab-content" id="actividadesTabContent">
        <div class="tab-pane fade" id="prodep-content" role="tabpanel" aria-labelledby="prodep-tab">
            <div class="card-body">
                <h4>APARTADO 1. Distinciones y premios</h4>
                <li style="margin-left:20px;">1.9 Perfil deseable prodep vigencia 6 años</li>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th width="20%" class="text-center">Inicio de vigencia</th>
                                <th width="20%" class="text-center">Término de vigencia</th>
                                <th width="30%" class="text-center">Notas</th>
                                <th width="20%" class="text-center">Documento</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">2018-10-15</td>
                                <td class="text-center">2024-10-14</td>
                                <td class="text-center">Perfil deseable para profesores de tiempo completo</td>
                                <td class="text-center">
                                    <div class="d-flex justify-content-center gap-1">
                                        <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/bca67903-b8cb-11/490">
                                            <i class="fas fa-file-pdf"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="tab-pane fade" id="docencia-content" role="tabpanel" aria-labelledby="docencia-tab">
            <div class="card-body">
                <h4>ANEXO B: Dedicación</h4>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th width="10%" class="text-center">Inicio del semestre</th>
                                <th width="10%" class="text-center">Término del semestre</th>
                                <th width="10%" class="text-center">Unidad de aprendizaje</th>
                                <th width="20%" class="text-center">Programa educativo</th>
                                <th width="10%" class="text-center">Número hsm</th>
                                <th width="10%" class="text-center">Unidad Académica</th>
                                <th width="10%" class="text-center">Notas</th>
                                <th width="10%" class="text-center">Documento</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">2024-08-19</td>
                                <td class="text-center">2024-12-13</td>
                                <td class="text-center">Seminario Investigación I</td>
                                <td class="text-center">Doctorado en Imagen, Arte, Cultura y Sociedad</td>
                                <td class="text-center">3</td>
                                <td class="text-center">FACULTAD DE DISEÑO</td>
                                <td class="text-center">Sin notas</td>
                                <td class="text-center">
                                    <div class="d-flex justify-content-center gap-1">
                                        <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/f4c6189f48e52a56ea1d880d92912096/490">
                                            <i class="fas fa-file-pdf"></i>
                                        </button>
                                        <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/d2576dade6f6d3772fc95aa9ccaeaf13/490">
                                            <i class="fas fa-file-pdf"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">2024-08-26</td>
                                <td class="text-center">2024-12-13</td>
                                <td class="text-center">Metodología de la Investigación</td>
                                <td class="text-center">Licenciado en Enseñanza del Inglés</td>
                                <td class="text-center">6</td>
                                <td class="text-center">INSTITUTO DE CIENCIAS DE LA EDUCACION</td>
                                <td class="text-center">Sin notas</td>
                                <td class="text-center">
                                    <div class="d-flex justify-content-center gap-1">
                                        <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/e032cf98bf49f9572e0d7dcdaa74da6f/490">
                                            <i class="fas fa-file-pdf"></i>
                                        </button>
                                        <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/c07360188a178330dad8653723983c3d/490">
                                            <i class="fas fa-file-pdf"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">2024-01-22</td>
                                <td class="text-center">2024-06-28</td>
                                <td class="text-center">Metodología de la Investigación</td>
                                <td class="text-center">Licenciado en Ciencias de la Educación</td>
                                <td class="text-center">6</td>
                                <td class="text-center">INSTITUTO DE CIENCIAS DE LA EDUCACION</td>
                                <td class="text-center">Sin notas</td>
                                <td class="text-center">
                                    <div class="d-flex justify-content-center gap-1">
                                        <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/1db4b6f7256ac12b60c0d6af03f9ebd6/490">
                                            <i class="fas fa-file-pdf"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">2024-01-22</td>
                                <td class="text-center">2024-06-28</td>
                                <td class="text-center">Metodología de la Investigación</td>
                                <td class="text-center">Licenciado en Ciencias de la Educación</td>
                                <td class="text-center">6</td>
                                <td class="text-center">INSTITUTO DE CIENCIAS DE LA EDUCACION</td>
                                <td class="text-center">Sin notas</td>
                                <td class="text-center">
                                    <div class="d-flex justify-content-center gap-1">
                                        <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/ccf1755fd4076409255aa63707647523/490">
                                            <i class="fas fa-file-pdf"></i>
                                        </button>
                                        <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/b78dd628140aa506c4a6ba55c2256de3/490">
                                            <i class="fas fa-file-pdf"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">2024-01-22</td>
                                <td class="text-center">2024-06-28</td>
                                <td class="text-center">Seminario Teórico optativo: Gestión de la diversidad en las instalaciones de educación superior.</td>
                                <td class="text-center">Doctorado en Investigación Interdisciplinar en Educación Superior</td>
                                <td class="text-center">4</td>
                                <td class="text-center">CENTRO INV INTERDIS DESARROLLO UNIVERSITARIO</td>
                                <td class="text-center">Sin notas</td>
                                <td class="text-center">
                                    <div class="d-flex justify-content-center gap-1">
                                        <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/f0039a89824824ab53f62fee8c35331f/490">
                                            <i class="fas fa-file-pdf"></i>
                                        </button>
                                        <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/13111cb72d4e10793e501d5935c61b0d/490">
                                            <i class="fas fa-file-pdf"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">2024-01-22</td>
                                <td class="text-center">2024-06-28</td>
                                <td class="text-center">Seminario Elaboración de Reporte Cualitativo</td>
                                <td class="text-center">Doctorado en Educación</td>
                                <td class="text-center">5</td>
                                <td class="text-center">INSTITUTO DE CIENCIAS DE LA EDUCACION</td>
                                <td class="text-center">Sin notas</td>
                                <td class="text-center">
                                    <div class="d-flex justify-content-center gap-1">
                                        <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/c89cba291bc215156d3957521eb72d58/490">
                                            <i class="fas fa-file-pdf"></i>
                                        </button>
                                        <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/3e98cc36364e2619a0dd6fe452d09c9e/490">
                                            <i class="fas fa-file-pdf"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="tab-pane fade active show" id="extension-content" role="tabpanel" aria-labelledby="extension-tab">
            <div class="card-body">
                <h4>APARTADO 5. Participación como ponente (Máximo seis ponencias)</h4>
                <li style="margin-left:20px;">5.12 Conferencias y charlas de difusión y promoción de la ciencia y la cultura</li>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th width="20%" class="text-center">Fecha del evento</th>
                                <th width="20%" class="text-center">Nombre del evento</th>
                                <th width="20%" class="text-center">Nombre de la obra/colección o conferencia</th>
                                <th width="20%" class="text-center">Institución organizadora</th>
                                <th width="20%" class="text-center">Participación</th>
                                <th width="20%" class="text-center">Modalidad</th>
                                <th width="20%" class="text-center">Organismo que otorgó recurso</th>
                                <th width="20%" class="text-center">Actividad realizada a través de Convenio</th>
                                <th width="20%" class="text-center">Impacto criterio SEAES</th>
                                <th width="20%" class="text-center">Notas</th>
                                <th width="10%" class="text-center">Documento</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">2019-04-12</td>
                                <td class="text-center">La investigación educativa para mejorar la educación</td>
                                <td class="text-center">XLV aniversario de la fundación de la Escuela Normal Rural "Gral. Emiliano Zapata"</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">Reconocimiento otorgado por la Escuela Normal Rural "Gral. Emiliano Zapata"</td>
                                <td class="text-center">
                                    <a href="/getFileA/bca69d65-b8cb-11" class="btn btn-sm btn-pdf btnBlue2 openPdfModal">
                                        <i class="fas fa-file-pdf"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">2022-06-01</td>
                                <td class="text-center">Derechos sociales de os migrantes</td>
                                <td class="text-center">Panorama UAEM</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">Entrevista en Panorama UAEM</td>
                                <td class="text-center">
                                    <a href="/getFileA/bca69d91-b8cb-11" class="btn btn-sm btn-pdf btnBlue2 openPdfModal">
                                        <i class="fas fa-file-pdf"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">2022-08-25</td>
                                <td class="text-center">Retos y oportunidades para el Morelos que Merecemos</td>
                                <td class="text-center">Parlamento Juvenil Retos y Oportunidades para el Morelos que merecemos</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">En representación de la UAEM en la temática 1: Políticas públicas en seguridad, justicia y combate a la corrupción. Ponencia impartida: Retos y oportunidades para el Morelos que Merecemos.</td>
                                <td class="text-center">
                                    <a href="/getFileA/bca69dbb-b8cb-11" class="btn btn-sm btn-pdf btnBlue2 openPdfModal">
                                        <i class="fas fa-file-pdf"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">2022-11-25</td>
                                <td class="text-center">Una mirada al Empoderamiento.</td>
                                <td class="text-center">Seminario Violencia de Género: reflexiones y retos desde los espacios universitarios</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">Del 07 de octubre al 25 de noviembre de 2022. Modalidad virtual.</td>
                                <td class="text-center">
                                    <a href="/getFileA/bca69de6-b8cb-11" class="btn btn-sm btn-pdf btnBlue2 openPdfModal">
                                        <i class="fas fa-file-pdf"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">2023-03-06</td>
                                <td class="text-center">Presentación del libro “Excelencia y buenas prácticas académicas en instituciones educativas”</td>
                                <td class="text-center">44 Feria Internacional del Libro del Palacio de Minería</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">Sin notas</td>
                                <td class="text-center">
                                    <a href="/getFileA/bca69e10-b8cb-11" class="btn btn-sm btn-pdf btnBlue2 openPdfModal">
                                        <i class="fas fa-file-pdf"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">2024-09-13</td>
                                <td class="text-center">Expositora del Capítulo 2 del libro Apreciación de la perspectiva de género en los programas de licenciatura del libro Nuevas aproximaciones a la Educación Superior</td>
                                <td class="text-center">39° Aniversario de la creación del Instituto de Ciencias de la Educación</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">Sin notas</td>
                                <td class="text-center">
                                    <a href="/getFileA/bca69e3a-b8cb-11" class="btn btn-sm btn-pdf btnBlue2 openPdfModal">
                                        <i class="fas fa-file-pdf"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">2024-10-11</td>
                                <td class="text-center">Ponencia: Igualdad de género</td>
                                <td class="text-center">Curso “Estrategias de Administración Pública y Gestión Municipal”</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">Sin notas</td>
                                <td class="text-center">
                                    <a href="/getFileA/bca69e66-b8cb-11" class="btn btn-sm btn-pdf btnBlue2 openPdfModal">
                                        <i class="fas fa-file-pdf"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">2024-08-19</td>
                                <td class="text-center">Morelos en la Ciencia</td>
                                <td class="text-center">Responsabilidad social universitaria y pensamiento crítico</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">Consejo de Ciencia y Tecnología del Estado de Morelos. Programa de Radio "los 40 principales".</td>
                                <td class="text-center">
                                    <a href="/getFileA/249f153b498d4be66436bfa3685f89da" class="btn btn-sm btn-pdf btnBlue2 openPdfModal">
                                        <i class="fas fa-file-pdf"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">2024-12-11</td>
                                <td class="text-center">Presentación de libro: Derecho Social Familiar</td>
                                <td class="text-center">Presentación de libro: Derecho Social Familiar</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">Sin notas</td>
                                <td class="text-center">
                                    <a href="/getFileA/fa2592d69952a6af05d080d75a9bc6ff" class="btn btn-sm btn-pdf btnBlue2 openPdfModal">
                                        <i class="fas fa-file-pdf"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">2024-05-02</td>
                                <td class="text-center">Seminario Permanente Universidad Semilla de Paz: Género y Derechos Humanos</td>
                                <td class="text-center">Sesión titulada "Acoso escolar, una mirada desde los derechos humanos"</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">Sin notas</td>
                                <td class="text-center">
                                    <a href="/getFileA/31878fc9e4bbe00aa937c1982bb4edcb" class="btn btn-sm btn-pdf btnBlue2 openPdfModal">
                                        <i class="fas fa-file-pdf"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">2024-08-02</td>
                                <td class="text-center">XXVI Verano de la Investigación Científica en Morelos</td>
                                <td class="text-center">Protección social participativa para migrantes en México</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">Investigadora anfitrióna y asesora del proyecto</td>
                                <td class="text-center">
                                    <a href="/getFileA/36f5f0deb056f540fa0f7f3ab56c923e" class="btn btn-sm btn-pdf btnBlue2 openPdfModal">
                                        <i class="fas fa-file-pdf"></i>
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h4>APARTADO 6. Productividad académica</h4>
                <li style="margin-left:20px;">6.1 Publicación de revistas de divulgación que forman parte del índice de Revistas mexicanas de divulgación cientifica CONACyT</li>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th width="20%" class="text-center">Fecha de publicación</th>
                                <th width="20%" class="text-center">Título de la publicación</th>
                                <th width="20%" class="text-center">Revista</th>
                                <th width="20%" class="text-center">ISSN</th>
                                <th width="20%" class="text-center">Liga de acceso</th>
                                <th width="20%" class="text-center">Participación en la publicación</th>
                                <th width="20%" class="text-center">Idioma en que se realizó la publicación</th>
                                <th width="20%" class="text-center">Alcance de la revista</th>
                                <th width="20%" class="text-center">El artículo se realizó en coautoría con académicos extranjeros</th>
                                <th width="20%" class="text-center">Nacionalidad del académico extranjero</th>
                                <th width="20%" class="text-center">Impacto criterio SEAES</th>
                                <th width="20%" class="text-center">Estatus</th>
                                <th width="20%" class="text-center">Notas</th>
                                <th width="20%" class="text-center">Documento</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">2023-08-01</td>
                                <td class="text-center">Método de casos como estrategia de aprendizaje del derecho.</td>
                                <td class="text-center">Inventio. La génesis de la cultura universitaria en Morelos.</td>
                                <td class="text-center">2007-1760</td>
                                <td class="text-center">10.30973/inventio/2022.19.47/2</td>
                                <td class="text-center">Primer(a) autor(a)</td>
                                <td class="text-center">47</td>
                                <td class="text-center">Nacional</td>
                                <td class="text-center">Si</td>
                                <td class="text-center">No disponible</td>
                                <td class="text-center">Inclusión</td>
                                <td class="text-center">publicado</td>
                                <td class="text-center">Sin notas</td>
                                <td class="text-center">
                                    <div class="d-flex justify-content-center gap-1">
                                        <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/bca69eba-b8cb-11/490">
                                            <i class="fas fa-file-pdf"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">2023-08-01</td>
                                <td class="text-center">Método de casos como estrategia de aprendizaje del derecho.</td>
                                <td class="text-center">Inventio. La génesis de la cultura universitaria en Morelos.</td>
                                <td class="text-center">2007-1760</td>
                                <td class="text-center">10.30973/inventio/2022.19.47/2</td>
                                <td class="text-center">Primer(a) autor(a)</td>
                                <td class="text-center">47</td>
                                <td class="text-center">Nacional</td>
                        </tr></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
</div>



<div id="contenedor">
                    <div class="card mb-4">
                        <div class="card-header d-flex justify-content-between align-items-center" style="background-color: #000e62;">
                            <div class="d-flex align-items-center">
                                <i class="fa fa-trophy mr-2" style="color: white; font-size: 24px;"></i>
                                <h3 class="mb-0" style="color: white;">Criterios cualitativos</h3>
                            </div>
                        </div>
                        <div class="card-body" id="criterios-cualitativos-body" style="border-radius:50px;">
                            <!-- Tabs container -->
<div class="tabs-container">
<ul class="nav nav-tabs" id="criteriosTabs" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="tab0-tab" data-bs-toggle="tab" data-bs-target="#tab0" type="button" role="tab" aria-controls="tab0" aria-selected="false" tabindex="-1">
            <span class="numero-circulo">1</span> SNI/SNCA
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="tab1-tab" data-bs-toggle="tab" data-bs-target="#tab1" type="button" role="tab" aria-controls="tab1" aria-selected="false" tabindex="-1">
            <span class="numero-circulo">2</span> Definitividad
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="tab2-tab" data-bs-toggle="tab" data-bs-target="#tab2" type="button" role="tab" aria-controls="tab2" aria-selected="false" tabindex="-1">
            <span class="numero-circulo">3</span> Nombramiento
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="tab3-tab" data-bs-toggle="tab" data-bs-target="#tab3" type="button" role="tab" aria-controls="tab3" aria-selected="true">
            <span class="numero-circulo">4</span> Cuerpo Académico
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="tab5-tab" data-bs-toggle="tab" data-bs-target="#tab5" type="button" role="tab" aria-controls="tab5" aria-selected="false" tabindex="-1">
            <span class="numero-circulo">6</span> Eficiencia Terminal
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="tab7-tab" data-bs-toggle="tab" data-bs-target="#tab7" type="button" role="tab" aria-controls="tab7" aria-selected="false" tabindex="-1">
            <span class="numero-circulo">8</span> Reconocimiento
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="tab8-tab" data-bs-toggle="tab" data-bs-target="#tab8" type="button" role="tab" aria-controls="tab8" aria-selected="false" tabindex="-1">
            <span class="numero-circulo">9</span> Evaluador
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="tab9-tab" data-bs-toggle="tab" data-bs-target="#tab9" type="button" role="tab" aria-controls="tab9" aria-selected="false" tabindex="-1">
            <span class="numero-circulo">10</span> Independencia
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="tab10-tab" data-bs-toggle="tab" data-bs-target="#tab10" type="button" role="tab" aria-controls="tab10" aria-selected="false" tabindex="-1">
            <span class="numero-circulo">11</span> Docencia
        </button>
    </li>
</ul>

<div class="tab-content" id="criteriosTabsContent">
    <!-- Tab 0 -->
    <div class="tab-pane fade" id="tab0" role="tabpanel" aria-labelledby="tab0-tab">
        <div class="card mb-3">
            <div class="card-body">
                <h6 class="card-title"><strong>APARTADO 1. Distinciones y premios</strong></h6>
                <li class="card-text" style="color:#000e62; margin-left:20px;">1.3 SNI nivel 2</li>
                <div class="table-responsive">
                    <table class="table table-bordered" style="font-size:12px;">
                        <thead>
                            <tr>
                                <th width="20%" class="text-center">Inicio de vigencia</th>
                                <th width="20%" class="text-center">Término de vigencia</th>
                                <th width="30%" class="text-center">Notas</th>
                                <th width="20%" class="text-center">Documento</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="borderb" style="text-align: center;">2022-01-01</td>
                                <td class="borderb" style="text-align: center;">2025-12-31</td>
                                <td class="borderb" style="text-align: center;">Miembro del Sistema Nacional de Investigadores, Nivel II.</td>
                                <td class="borderb text-center">
                                    <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/bca67818-b8cb-11/490">
                                        <i class="fas fa-file-pdf"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Tab 1 -->
    <div class="tab-pane fade active show" id="tab1" role="tabpanel" aria-labelledby="tab1-tab">
        <div class="card mb-3">
            <div class="card-body">
                <p class="card-text"><strong>Tipo de Contrato:</strong> DEFINITIVO</p>
            </div>
        </div>
    </div>

    <!-- Tab 2 -->
    <div class="tab-pane fade active show" id="tab2" role="tabpanel" aria-labelledby="tab2-tab">
        <div class="card mb-3">
            <div class="card-body">
                <p class="card-text"><strong>Categoría:</strong> PROFESOR INVESTIGADOR DE TIEMPO COMPLETO TITULAR "C"</p>
            </div>
        </div>
    </div>

    <!-- Tab 3 -->
    <div class="tab-pane fade active show" id="tab3" role="tabpanel" aria-labelledby="tab3-tab">
        <div class="card mb-3">
            <div class="card-body">
                <h6 class="card-title"><strong>APARTADO 7. Pertenencia a un cuerpo académico</strong></h6>
                <li class="card-text" style="color:#000e62; margin-left:20px;">7.3 Consolidado</li>
                <div class="table-responsive">
                    <table class="table table-bordered" style="font-size:12px;">
                        <thead>
                            <tr>
                                <th width="20%" class="text-center">Inicio vigencia</th>
                                <th width="20%" class="text-center">Término vigencia</th>
                                <th width="20%" class="text-center">Nombre del Cuerpo Académico</th>
                                <th width="20%" class="text-center">Responsable</th>
                                <th width="30%" class="text-center">Notas</th>
                                <th width="10%" class="text-center">Documento</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="borderb" style="text-align: center;">2019-11-26</td>
                                <td class="borderb" style="text-align: center;">2024-11-26</td>
                                <td class="borderb" style="text-align: center;">Seguridad Social Multidisciplinaria y Desarrollo Social</td>
                                <td class="borderb" style="text-align: center;">Ana Esther Escalante Ferrer</td>
                                <td class="borderb" style="text-align: center;">Vigencia de 5 años</td>
                                <td class="borderb text-center">
                                    <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/bca6ae34-b8cb-11/490">
                                        <i class="fas fa-file-pdf"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td class="borderb" style="text-align: center;">2024-03-15</td>
                                <td class="borderb" style="text-align: center;">2029-03-14</td>
                                <td class="borderb" style="text-align: center;">Seguridad Social Multidisciplinaria y Desarrollo Social</td>
                                <td class="borderb" style="text-align: center;">Dra. Gabriela Mendizabal Bermudez</td>
                                <td class="borderb" style="text-align: center;">No se contienen notas</td>
                                <td class="borderb text-center">
                                    <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/bca6ae5f-b8cb-11/490">
                                        <i class="fas fa-file-pdf"></i>
                                    </button>
                                </td>
                            </tr>
                            <!-- Más filas de la tabla... -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Tab 5 -->
    <div class="tab-pane fade" id="tab5" role="tabpanel" aria-labelledby="tab5-tab">
        <div class="card mb-3">
            <div class="card-body">
                <p class="card-text"><strong>Información:</strong> Por verificar</p>
            </div>
        </div>
        
        <!-- Tabs internos para el criterio 6 -->
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="tab1-tab" data-bs-toggle="tab" data-bs-target="#tab1" type="button" role="tab" aria-controls="tab1" aria-selected="true">3.1</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="tab2-tab" data-bs-toggle="tab" data-bs-target="#tab2" type="button" role="tab" aria-controls="tab2" aria-selected="true">3.8</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="tab3-tab" data-bs-toggle="tab" data-bs-target="#tab3" type="button" role="tab" aria-controls="tab3" aria-selected="true">3.15</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="tab4-tab" data-bs-toggle="tab" data-bs-target="#tab4" type="button" role="tab" aria-controls="tab4" aria-selected="true">3.17</button>
            </li>
        </ul>
        <div class="tab-content" id="myTabContent">
            <!-- Contenido de los tabs internos... -->
            <div class="tab-pane fade" id="tab1" role="tabpanel" aria-labelledby="tab1-tab">
                <!-- Contenido del tab 3.1... -->
            </div>
            <div class="tab-pane fade" id="tab2" role="tabpanel" aria-labelledby="tab2-tab">
                <!-- Contenido del tab 3.8... -->
            </div>
            <div class="tab-pane fade active show" id="tab3" role="tabpanel" aria-labelledby="tab3-tab">
                <!-- Contenido del tab 3.15... -->
            </div>
            <div class="tab-pane fade active show" id="tab4" role="tabpanel" aria-labelledby="tab4-tab">
                <!-- Contenido del tab 3.17... -->
            </div>
        </div>
    </div>

    <!-- Tabs 7, 8, 9 y 10 (contenido similar al original) -->
    <div class="tab-pane fade" id="tab7" role="tabpanel" aria-labelledby="tab7-tab">
        <!-- Contenido del criterio 8... -->
    </div>

    <div class="tab-pane fade" id="tab8" role="tabpanel" aria-labelledby="tab8-tab">
        <!-- Contenido del criterio 9... -->
    </div>

    <div class="tab-pane fade" id="tab9" role="tabpanel" aria-labelledby="tab9-tab">
        <!-- Contenido del criterio 10... -->
    </div>

    <div class="tab-pane fade" id="tab10" role="tabpanel" aria-labelledby="tab10-tab">
        <!-- Contenido del criterio 11... -->
    </div>
</div>
</div>
                        </div>
                    </div>
                </div>
                </div>

            </section>

        </div>

        <footer class="main-footer text-center"><b>2025 | Dirección General de Tecnologías de la información y Comunicación</b></footer>

    </div>

    
    <script src="https://ripppajesus.uaem.mx/js/jquery-3.5.1.min.js"></script>
    <script src="https://ripppajesus.uaem.mx/js/bootstrap.bundle.min.js"></script>
    <!-- <script src="https://ripppajesus.uaem.mx/template/adminlte3.2/plugins/bootstrap/js/bootstrap.bundle.min.js"></script> -->
    <script src="https://ripppajesus.uaem.mx/template/adminlte3.2/dist/js/adminlte.js"></script>
    <script src="https://ripppajesus.uaem.mx/template/amaranJS/dist/js/jquery.amaran.min.js"></script>
    <script src="https://ripppajesus.uaem.mx/template/bootbox/bootbox.min.js"></script>
    <script src="https://ripppajesus.uaem.mx/template/detectmobilebrowser.js"></script>
    <!-- <script src="https://ripppajesus.uaem.mx/assets/js/tinymce/tinymce.min.js"></script> -->
    <!-- <script src="https://ripppajesus.uaem.mx/assets/js/tinymce/langs/es_MX.js"></script> -->
    <script src="https://ripppajesus.uaem.mx/template/sweetalert2/sweetalert2.js"></script>
    <script src="https://ripppajesus.uaem.mx/template/js/jquery.validate.min.js"></script>
    <!-- <script src="https://ripppajesus.uaem.mx/template/DataTables/datatables.min.js"></script> -->
    <script src="https://ripppajesus.uaem.mx/js/select2.min.js"></script>
    <script src="https://ripppajesus.uaem.mx/js/datatables.min.js"></script>
    <script src="https://ripppajesus.uaem.mx/js/popper.min.js"></script>
    <script src="https://ripppajesus.uaem.mx/js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function () {
            // Abre el modal sin el fondo
            $('#tutorial').on('click', function() {
                var tutorialModal = new bootstrap.Modal(document.getElementById('tutorialModal'), {
                    backdrop: 'static', // Mantiene el fondo, pero no bloquea la interacción
                    keyboard: true // Permite cerrar el modal con el teclado (Esc)
                });

                tutorialModal.show();

                // Reproducir el video automáticamente cuando el modal se muestra
                $('#tutorialModal').on('shown.bs.modal', function() {
                    var video = $('#tutorialModal video')[0]; // Selecciona el video dentro del modal
                    video.play(); // Reproduce el video
                });
            });

            // Detener el video cuando el modal se cierre
            $('#tutorialModal').on('hidden.bs.modal', function() {
                var video = $('#tutorialModal video')[0];
                video.pause(); // Pausa el video
                video.currentTime = 0; // Resetea el video al inicio
            });

            $(".tolt").tooltip('enable');

        });
     </script>
    <script>

        $(document).ready(function() {
                //console.log("putooooooaaaa");  // Para verificar si el código se ejecuta
                let currentPath = window.location.pathname;

                // Desactivar el enlace correspondiente según la ruta actual
                if (currentPath.includes('/pitc/tatc')) {
                    $('#rippaLink').css('display', 'none');  // Oculta el enlace de Rippa
                    $('#cedulaLink').css('display', 'none'); // Oculta el enlace de Cedula
                } else if (currentPath.includes('/patc')) {
                    $('#rippaLink').css('display', 'none');  // Oculta el enlace de Rippa
                } else if (currentPath.includes('/pitc')) {
                    $('#cedulaLink').css('display', 'none'); // Oculta el enlace de Cedula
                }else{
                    $('#rippaLink').css('display', 'none');  // Oculta el enlace de Rippa
                    $('#cedulaLink').css('display', 'none');
                }

        });

      let sumaAcumulada = 0; // Variable para la suma general
        let sumaAc142 = 0; // Variable para la suma general
        let sumaAc141 = 0; // Variable para la suma general
        let sumaFinal = 0;
    function calculoPuntaje(data) {
            // Reiniciar las sumas específicas para esta tabla
            //console.log(data);
            let sumaTabla = 0;
            let suma142 = 0;
            let suma141 = 0;
            let suma15 = 0;
            let sumaT15 = 0;
            let sumaT16 = 0;
            let suma16 = 0;
            let suma17 = 0;
            let suma18 = 0;
            let suma20 = 0;
            let suma21 = 0;
            let suma24 = 0;
            let suma26 = 0;
            let suma31 = 0;
            let suma33 = 0;
            let suma47 = 0;
            let suma48 = 0;
            let suma140 = 0;
            let suma38 = 0;
            let suma40 = 0;
            let suma43 = 0;
            let suma42 = 0;
            let suma49 = 0;
            let suma50 = 0;
            let suma79 = 0;
            let suma96=0;
            let suma115=0;
            let suma12=0;
            let suma13=0;
            let fechasRegistradas = [];
            let sumaHoras141 = 0;
            let puntajesSumados = [];
            let puntajesPorClasificacion = {};
            let fechaMasAntigua = null;
            let indiceMasAntiguo = -1;

            // Paso 1: Identificar el registro con la fecha más antigua para id_clasificacion 142
            data.forEach((element, index) => {
                if (element.id_clasificacion === 142) {
                    let fecha1 = new Date(element.fecha1); // Convertir fecha1 en objeto Date

                    // Si no se ha definido fechaMasAntigua o la fecha actual es anterior, actualizamos
                    if (fechaMasAntigua === null || fecha1 < fechaMasAntigua) {
                        fechaMasAntigua = fecha1; // Guardamos la fecha más antigua
                        indiceMasAntiguo = index; // Guardamos el índice de la fecha más antigua
                    }
                }
            });

            // Recorre los datos
            for (let index = 0; index < data.length; index++) {

                let id_clasificacion = data[index].id_clasificacion;
                let puntaje = parseFloat(data[index].puntaje); // Convertir a número

                if (isNaN(puntaje)) {
                    console.error("Puntaje no es un número válido: ", data[index].puntaje);
                    continue;
                }

                //console.log("Procesando id_clasificacion:", id_clasificacion, "con puntaje:", puntaje);

                // Verifica el texto actual y actualiza
                let texto = $(".puntaje-" + id_clasificacion).html();
                if (texto != null) {
                    let puntajeTxt = texto.split('/');
                    if (puntajeTxt.length > 1) {
                        puntajeTxt[0] = puntaje;
                        $(".puntaje-" + id_clasificacion).html(" Preliminar: (" + puntajeTxt[0] + "/" + puntajeTxt[1]);
                    } else {
                        $(".puntaje-" + id_clasificacion).html(" Preliminar: (" + puntaje + ")");
                    }
                }

                // Sumar puntajes específicos
                if (id_clasificacion === 142) {
                    if (index === indiceMasAntiguo) {
                        // Normalizar fecha1 para evitar ajustes por zona horaria
                        let fecha1 = new Date(data[index].fecha1 + "T00:00:00");
                        let fechaActual = new Date();

                        // Inicializar variables de diferencia
                        let diferenciaAnos = fechaActual.getFullYear() - fecha1.getFullYear();
                        let diferenciaMeses = fechaActual.getMonth() - fecha1.getMonth();
                        let diferenciaDias = fechaActual.getDate() - fecha1.getDate();

                        // Ajustar días si son negativos
                        if (diferenciaDias < 0) {
                            const diasMesAnterior = new Date(
                                fechaActual.getFullYear(),
                                fechaActual.getMonth(),
                                0
                            ).getDate();
                            diferenciaDias += diasMesAnterior;
                            diferenciaMeses--;
                        }

                        // Ajustar meses si son negativos
                        if (diferenciaMeses < 0) {
                            diferenciaMeses += 12;
                            diferenciaAnos--;
                        }

                        // Mostrar diferencia exacta en consola
                        //console.log(`Fecha inicial: ${fecha1}`);
                        //console.log(`Fecha actual: ${fechaActual}`);
                        //console.log(`Años: ${diferenciaAnos}, Meses: ${diferenciaMeses}, Días: ${diferenciaDias}`);

                        // Determinar puntaje basado en años, meses y días
                        let puntajeAdicional = 0;
                        if (diferenciaAnos >= 1 && diferenciaAnos < 3) {
                            puntajeAdicional = 20;
                        } else if (
                            (diferenciaAnos === 3 && (diferenciaMeses > 0 || diferenciaDias > 0)) ||
                            (diferenciaAnos > 3 && diferenciaAnos < 6)
                        ) {
                            puntajeAdicional = 40;
                        } else if (
                            (diferenciaAnos === 6 && (diferenciaMeses > 0 || diferenciaDias > 0)) ||
                            (diferenciaAnos > 6 && diferenciaAnos < 9)
                        ) {
                            puntajeAdicional = 60;
                        } else if (
                            (diferenciaAnos === 9 && (diferenciaMeses > 0 || diferenciaDias > 0)) ||
                            (diferenciaAnos > 9 && diferenciaAnos < 12)
                        ) {
                            puntajeAdicional = 80;
                        } else if (diferenciaAnos >= 12) {
                            puntajeAdicional = 100;
                        }

                        // Sumar puntaje adicional
                        suma142 += puntajeAdicional;
                        suma142 = Math.min(suma142, 100); // Limitar la suma a un máximo de 100

                        // Actualizar la tabla y la visual
                        $(".puntajes" + id_clasificacion).html(` Preliminar: (${suma142}/${puntaje})`);
                        $('#table-142').DataTable().cell(index, 0).data(puntajeAdicional).draw();
                    } else {
                        // Asignar puntaje 0 a otros registros
                        $('#table-142').DataTable().cell(index, 0).data(0).draw();
                    }
                }else if (id_clasificacion === 141) {
                    // Intentar convertir item5 a número
                    let horas = parseFloat(data[index].item5);

                    // Verificar si horas no es un número (NaN), si es así, establecerlo en 0
                    if (isNaN(horas)) {
                        horas = 0;
                    }

                    // Sumar todas las horas primero
                    sumaHoras141 += horas;

                    console.log("Horas acumuladas:", sumaHoras141);

                    // Solo calcular el puntaje adicional una vez, después de recorrer todos los registros
                    if (index === data.length - 1) { // Asegurar que es el último registro
                        let puntajeAdicional = 0;

                        if (sumaHoras141 >= 8 && sumaHoras141 < 9) {
                            puntajeAdicional = 120;
                        } else if (sumaHoras141 >= 9 && sumaHoras141 <= 11) {
                            puntajeAdicional = 160;
                        } else if (sumaHoras141 >= 12) { // Mayor o igual a 12 ya cubre los demás casos
                            puntajeAdicional = 200;
                        }

                        // Asignar puntaje adicional a suma141
                        suma141 = puntajeAdicional;
                        suma141 = Math.min(suma141, 200);
                        //console.log("Puntaje adicional final:", suma141);

                        // Actualizar la visual
                        $(".puntajes" + id_clasificacion).html(" Preliminar: (" + suma141 + "/" + puntaje + ")");
                    }
                }else if (id_clasificacion === 15) {
                    let horas = parseFloat(data[index].item5); // Intentar convertir item5 a número
                    let puntaje = parseFloat(data[index].puntaje); // Convertir puntaje a número

                    // Verificar si horas o puntaje no son números (NaN); si es así, establecerlos en 0
                    if (isNaN(horas)) {
                        horas = 0;
                    }
                    if (isNaN(puntaje)) {
                        puntaje = 0;
                    }

                    // Acumular el puntaje total usando horas y puntaje
                    sumaT15 = horas * puntaje;
                    suma15+=sumaT15;
                    if(suma15>60){
                        suma15=60;
                    }

                    //console.log("Total horas acumuladas:", sumaT15);
                    //console.log("Puntaje total calculado:", suma15);

                    // Actualizar la visual
                    $(".puntaje-" + id_clasificacion).html(" Preliminar: (" + suma15 + "/60) puntos");
                    $('#table-15').DataTable().cell(index, 0).data(sumaT15).draw();
                }else if (id_clasificacion === 16) {
                    let horas = parseFloat(data[index].item5); // Intentar convertir item5 a número
                    let puntaje = parseFloat(data[index].puntaje); // Convertir puntaje a número

                    // Verificar si horas o puntaje no son números (NaN); si es así, establecerlos en 0
                    if (isNaN(horas)) {
                        horas = 0;
                    }
                    if (isNaN(puntaje)) {
                        puntaje = 0;
                    }

                    // Acumular el puntaje total usando horas y puntaje
                    sumaT16 = horas * puntaje;
                    suma16+=sumaT16;
                    if(suma16>90){
                        suma16=90;
                    }

                    //console.log("Total horas acumuladas:", sumaT15);
                    //console.log("Puntaje total calculado:", suma15);

                    // Actualizar la visual

                    $(".puntaje-" + id_clasificacion).html(" Preliminar: (" + suma16 + "/90) puntos");

                    $('#table-16').DataTable().cell(index, 0).data(sumaT16).draw();

                    //sumaTabla += suma16; // Descomentar si necesitas usar esta variable
                }else if (id_clasificacion === 18) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    suma18 += puntaje;
                    suma18 = Math.min(suma18, 20); // Corregido aquí
                    $(".puntaje-" + id_clasificacion).html(" Preliminar: (" + suma18 + "/20) puntos");
                    //sumaTabla += suma18;
                }else if (id_clasificacion === 24) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    let fecha2 = new Date(data[index].fecha2); // Obtener la fecha2
                    let añoActual = new Date().getFullYear()-1; // Obtener el año actual

                    // Solo considerar la fecha sin horas
                    let fecha2SinHora = new Date(fecha2.getFullYear(), fecha2.getMonth(), fecha2.getDate());


                    suma24 += puntaje; // Sumar el puntaje solo si no está registrado
                    $(".puntaje-" + id_clasificacion).html(" Preliminar:  (" + suma24 + "/" + suma24 + ") puntos");

                }else if (id_clasificacion === 26) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    let fecha2 = new Date(data[index].fecha2); // Obtener la fecha2
                    let añoActual = new Date().getFullYear()-1; // Obtener el año actual

                    // Solo considerar la fecha sin horas
                    let fecha2SinHora = new Date(fecha2.getFullYear(), fecha2.getMonth(), fecha2.getDate());

                    fechasRegistradas.push(fecha2SinHora.getTime()); // Agregar la fecha al arreglo
                    suma26 += puntaje; // Sumar el puntaje

                    // Limitar a 36 puntos
                    if (suma26 > 36) {
                        suma26 = 36;
                    }

                    $(".puntaje-" + id_clasificacion).html(" Preliminar:  (" + suma26 + "/36) puntos");
                }else if (id_clasificacion === 31) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    let fecha2 = new Date(data[index].fecha2); // Obtener la fecha2
                    let añoActual = new Date().getFullYear()-1; // Obtener el año actual

                    // Solo considerar la fecha sin horas
                    let fecha2SinHora = new Date(fecha2.getFullYear(), fecha2.getMonth(), fecha2.getDate());


                    suma31 += puntaje; // Sumar el puntaje solo si no está registrado
                    $(".puntaje-" + id_clasificacion).html(" Preliminar:  (" + suma31 + "/" + suma31 + ") puntos");

                }else if (id_clasificacion === 33) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    let fecha2 = new Date(data[index].fecha2); // Obtener la fecha2
                    let añoActual = new Date().getFullYear()-1; // Obtener el año actual

                    // Solo considerar la fecha sin horas
                    let fecha2SinHora = new Date(fecha2.getFullYear(), fecha2.getMonth(), fecha2.getDate());

                    fechasRegistradas.push(fecha2SinHora.getTime()); // Agregar la fecha al arreglo
                    suma33 += puntaje; // Sumar el puntaje

                    // Limitar a 24 puntos
                    if (suma33 > 24) {
                        suma33 = 24;
                    }

                    $(".puntaje-" + id_clasificacion).html(" Preliminar:  (" + suma33 + "/24) puntos");
                }else if (id_clasificacion === 47) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    let fecha2 = new Date(data[index].fecha2); // Obtener la fecha2
                    let añoActual = new Date().getFullYear()-1; // Obtener el año actual

                    // Solo considerar la fecha sin horas
                    let fecha2SinHora = new Date(fecha2.getFullYear(), fecha2.getMonth(), fecha2.getDate());

                    fechasRegistradas.push(fecha2SinHora.getTime()); // Agregar la fecha al arreglo
                    suma47 += puntaje; // Sumar el puntaje

                    // Limitar a 24 puntos
                    if (suma47 > 20) {
                        suma47 = 20;
                    }

                    $(".puntaje-" + id_clasificacion).html(" Preliminar:  (" + suma47 + "/20) puntos");
                }else if (id_clasificacion === 48) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    let fecha2 = new Date(data[index].fecha2); // Obtener la fecha2
                    let añoActual = new Date().getFullYear()-1; // Obtener el año actual

                    // Solo considerar la fecha sin horas
                    let fecha2SinHora = new Date(fecha2.getFullYear(), fecha2.getMonth(), fecha2.getDate());

                    fechasRegistradas.push(fecha2SinHora.getTime()); // Agregar la fecha al arreglo
                    suma48 += puntaje; // Sumar el puntaje

                    // Limitar a 24 puntos
                    if (suma48 > 15) {
                        suma48 = 15;
                    }

                    $(".puntaje-" + id_clasificacion).html(" Preliminar:  (" + suma48 + "/15) puntos");
                }else if (id_clasificacion === 140) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    let fecha2 = new Date(data[index].fecha2); // Obtener la fecha2
                    let añoActual = new Date().getFullYear()-1; // Obtener el año actual

                    // Solo considerar la fecha sin horas
                    let fecha2SinHora = new Date(fecha2.getFullYear(), fecha2.getMonth(), fecha2.getDate());

                    fechasRegistradas.push(fecha2SinHora.getTime()); // Agregar la fecha al arreglo
                    if (fecha2.getFullYear() === añoActual) {
                        suma140 += puntaje; // Sumar el puntaje
                    }

                    if (suma140 > 18) {
                        suma140 = 18;
                    }

                    $(".puntaje-" + id_clasificacion).html(" Preliminar:  (" + suma140 + "/18) puntos");
                }else if (id_clasificacion === 38) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    let fecha2 = new Date(data[index].fecha2); // Obtener la fecha2
                    let añoActual = new Date().getFullYear()-1; // Obtener el año actual

                    // Solo considerar la fecha sin horas
                    let fecha2SinHora = new Date(fecha2.getFullYear(), fecha2.getMonth(), fecha2.getDate());

                    let añoRegistrado = false;

                        suma38+= puntaje; // Sumar el puntaje solo si no está registrado
                        $(".puntaje-" + id_clasificacion).html(" Preliminar:  (" + suma38 + "/" + suma38 + ") puntos");
                }else if (id_clasificacion === 40) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    let fecha2 = new Date(data[index].fecha2); // Obtener la fecha2
                    let añoActual = new Date().getFullYear()-1; // Obtener el año actual

                    // Solo considerar la fecha sin horas
                    let fecha2SinHora = new Date(fecha2.getFullYear(), fecha2.getMonth(), fecha2.getDate());

                    fechasRegistradas.push(fecha2SinHora.getTime()); // Agregar la fecha al arreglo
                    suma40 += puntaje; // Sumar el puntaje

                    // Limitar a 12 puntos
                    if (suma40 > 12) {
                        suma40 = 12;
                    }

                    $(".puntaje-" + id_clasificacion).html(" Preliminar:  (" + suma40 + "/12) puntos");
                }else if (id_clasificacion === 42) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    let fecha2 = new Date(data[index].fecha2); // Obtener la fecha2
                    let añoActual = new Date().getFullYear()-1; // Obtener el año actual

                    // Solo considerar la fecha sin horas
                    let fecha2SinHora = new Date(fecha2.getFullYear(), fecha2.getMonth(), fecha2.getDate());

                    fechasRegistradas.push(fecha2SinHora.getTime()); // Agregar la fecha al arreglo
                    suma42 += puntaje; // Sumar el puntaje

                    // Limitar a 12 puntos
                    if (suma42 > 10) {
                        suma42 = 10;
                    }

                    $(".puntaje-" + id_clasificacion).html(" Preliminar:  (" + suma42 + "/10) puntos");
                }else if (id_clasificacion === 43) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    let fecha2 = new Date(data[index].fecha2); // Obtener la fecha2
                    let añoActual = new Date().getFullYear()-1; // Obtener el año actual

                    // Solo considerar la fecha sin horas
                    let fecha2SinHora = new Date(fecha2.getFullYear(), fecha2.getMonth(), fecha2.getDate());

                    fechasRegistradas.push(fecha2SinHora.getTime()); // Agregar la fecha al arreglo
                    suma43 += puntaje; // Sumar el puntaje

                    // Limitar a 12 puntos
                    if (suma43 > 20) {
                        suma43 = 20;
                    }

                    $(".puntaje-" + id_clasificacion).html(" Preliminar:  (" + suma43 + "/20) puntos");
                }else if (id_clasificacion === 48) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    let fecha2 = new Date(data[index].fecha2); // Obtener la fecha2
                    let añoActual = new Date().getFullYear()-1; // Obtener el año actual

                    // Solo considerar la fecha sin horas
                    let fecha2SinHora = new Date(fecha2.getFullYear(), fecha2.getMonth(), fecha2.getDate());

                    fechasRegistradas.push(fecha2SinHora.getTime()); // Agregar la fecha al arreglo
                    suma48 += puntaje; // Sumar el puntaje

                    // Limitar a 12 puntos
                    if (suma48 > 20) {
                        suma48 = 20;
                    }

                    $(".puntaje-" + id_clasificacion).html(" Preliminar:  (" + suma48 + "/20) puntos");
                }else if (id_clasificacion === 50) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    let fecha2 = new Date(data[index].fecha2); // Obtener la fecha2
                    let añoActual = new Date().getFullYear()-1; // Obtener el año actual

                    // Solo considerar la fecha sin horas
                    let fecha2SinHora = new Date(fecha2.getFullYear(), fecha2.getMonth(), fecha2.getDate());

                    fechasRegistradas.push(fecha2SinHora.getTime()); // Agregar la fecha al arreglo
                    if (fecha2.getFullYear() === añoActual) {
                        suma50 += puntaje; // Solo sumar si está en el año actual
                    }
                    // Limitar a 12 puntos
                    if (suma50 >50) {
                        suma50 = 50;
                    }

                    $(".puntaje-" + id_clasificacion).html(" Preliminar:  (" + suma50 + "/50) puntos");
                }else if (id_clasificacion === 79) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    let fecha2 = new Date(data[index].fecha2); // Obtener la fecha2
                    let añoActual = new Date().getFullYear()-1; // Obtener el año actual

                    // Solo considerar la fecha sin horas
                    let fecha2SinHora = new Date(fecha2.getFullYear(), fecha2.getMonth(), fecha2.getDate());

                    fechasRegistradas.push(fecha2SinHora.getTime()); // Agregar la fecha al arreglo
                    suma79 += puntaje; // Sumar el puntaje

                    // Limitar a 12 puntos
                    if (suma79 >15) {
                        suma79 = 15;
                    }

                    $(".puntaje-" + id_clasificacion).html(" Preliminar:  (" + suma79 + "/15) puntos");
                }else if (id_clasificacion === 96) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    let citas = parseFloat(data[index].item1)|| 0; // Obtener el número de horas desde el campo item5
                    let puntajeAdicional = 0;
                    puntajeAdicional=puntaje*citas;
                    suma96 += puntajeAdicional;
                    suma96 = Math.min(suma96, 50);
                    $(".puntaje-" + id_clasificacion).html(" Preliminar:  (" + suma96 + "/50) puntos");
                    $('#table-96').DataTable().cell(index, 0).data(puntajeAdicional).draw();
                   // sumaTabla += suma96;
                }else if (id_clasificacion === 115) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    let proyectos = parseFloat(data[index].item5) || 0; // Obtener el número de horas desde el campo item5
                    let puntajeAdicional = 0;
                    puntajeAdicional=puntaje*proyectos;
                    suma115 += puntajeAdicional;
                    $(".puntaje-" + id_clasificacion).html(" Preliminar:  (" + suma115 + "/" + suma115 + ") puntos");
                    $('#table-115').DataTable().cell(index, 0).data(puntajeAdicional).draw();
                   // sumaTabla += suma115;
                }else if (id_clasificacion === 12) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    suma12+=puntaje;
                    //console.log(suma12);
                    $(".puntaje-" + id_clasificacion).html(" Preliminar: (" +suma12 + "/" + suma12 + ") puntos");
                }else if (id_clasificacion === 13) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    suma13+=puntaje;
                    $(".puntaje-" + id_clasificacion).html(" Preliminar: (" +suma13 + "/" + suma13 + ") puntos");
                    //sumaTabla += suma13;
                }else if (id_clasificacion === 17) {
                    let puntaje = parseFloat(data[index].puntaje); // Convertir a número
                    suma17+=puntaje;
                    $(".puntaje-" + id_clasificacion).html(" Preliminar: (" +suma17 + "/" + suma17 + ") puntos");
                   // sumaTabla += suma17;
                }else if (id_clasificacion >= 20  && id_clasificacion <= 23||id_clasificacion==25||id_clasificacion>=27&& id_clasificacion <= 30||id_clasificacion==32||id_clasificacion>=134&& id_clasificacion <= 139||id_clasificacion>=34&&id_clasificacion<=37
                ||id_clasificacion==39||id_clasificacion==41||id_clasificacion>=44&&id_clasificacion<=46||id_clasificacion===49||id_clasificacion>=52&&id_clasificacion<=66||id_clasificacion>=68&&id_clasificacion<=78||id_clasificacion==80||id_clasificacion>=82&&id_clasificacion<=102||
                id_clasificacion>=108&&id_clasificacion<=114||id_clasificacion>=116&&id_clasificacion<=119||id_clasificacion>=126&&id_clasificacion<=128) {
                if (!puntajesPorClasificacion[id_clasificacion]) {
                    puntajesPorClasificacion[id_clasificacion] = 0; // Inicializa si no existe
                }
                puntajesPorClasificacion[id_clasificacion] += puntaje;
                $(".puntaje-" + id_clasificacion).html(` Preliminar: (${puntajesPorClasificacion[id_clasificacion]}/${puntajesPorClasificacion[id_clasificacion]}) puntos`);
                }else {
                    if (!puntajesSumados.includes(puntaje)) { // Verificar si el puntaje ya se ha sumado
                        //console.log("clasificaciones",id_clasificacion);
                        sumaTabla += puntaje; // Sumar para otros id_clasificacion
                        puntajesSumados.push(puntaje); // Agregar el puntaje al arreglo
                       //console.log(sumaTabla);
                    }
                }
            }
            for (let id in puntajesPorClasificacion) {
                sumaTabla += puntajesPorClasificacion[id];
            }
            sumaTabla += suma24 + suma26 + suma31 + suma33 + suma47  + suma140 + suma38 + suma40 + suma42 + suma43 + suma48 + suma50 + suma79 +suma96 + suma12+suma15+suma16+suma17+suma18+suma13+suma115;
            sumaAcumulada += sumaTabla;
            //console.log('sumaAcumTabla',sumaTabla );
            //console.log('sumaAcumulada',sumaAcumulada );
            sumaAc142+= suma142;
            sumaAc141+= suma141;
            if(sumaAcumulada>700){
                sumaAcumulada=700;
            }
            $(".profile-card-inf__item:contains('Puntos por calidad') .profile-card-inf__title").text(sumaAcumulada);
            $(".puntajes").html(" Preliminar:  (" + sumaAcumulada + "/700)");
            // Calcular y mostrar la suma final
            let sumaFinal = sumaAcumulada + sumaAc141 + sumaAc142;
            // Determinar el nivel en calidad
            let nivelCalidad = "";
            if (sumaAcumulada >= 211 && sumaAcumulada <= 280) {
                nivelCalidad = 'I';
            } else if (sumaAcumulada >= 281 && sumaAcumulada <= 350) {
                nivelCalidad = 'II';
            } else if (sumaAcumulada >= 351 && sumaAcumulada <= 420) {
                nivelCalidad = 'III';
            } else if (sumaAcumulada >= 421 && sumaAcumulada <= 490) {
                nivelCalidad = 'IV';
            } else if (sumaAcumulada >= 491 && sumaAcumulada <= 560) {
                nivelCalidad = 'V';
            } else if (sumaAcumulada >= 561 && sumaAcumulada <= 595) {
                nivelCalidad = 'VI';
            } else if (sumaAcumulada >= 596 && sumaAcumulada <= 630) {
                nivelCalidad = 'VII';
            } else if (sumaAcumulada >= 631 && sumaAcumulada <= 665) {
                nivelCalidad = 'VIII';
            } else if (sumaAcumulada >= 666 && sumaAcumulada >= 700) {
                nivelCalidad = 'IX';
            }else if(sumaAcumulada <=210){
                nivelCalidad = '0';
            }

            // Determinar el nivel total
            let nivelTotal = "";
            if (sumaFinal >= 301 && sumaFinal <= 400) {
                nivelTotal = 'I';
            } else if (sumaFinal >= 401 && sumaFinal <= 500) {
                nivelTotal = 'II';
            } else if (sumaFinal >= 501 && sumaFinal <= 600) {
                nivelTotal = 'III';
            } else if (sumaFinal >= 601 && sumaFinal <= 700) {
                nivelTotal = 'IV';
            } else if (sumaFinal >= 701 && sumaFinal <= 800) {
                nivelTotal = 'V';
            } else if (sumaFinal >= 801 && sumaFinal <= 850) {
                nivelTotal = 'VI';
            } else if (sumaFinal >= 851 && sumaFinal <= 900) {
                nivelTotal = 'VII';
            } else if (sumaFinal >= 901 && sumaFinal <= 950) {
                nivelTotal = 'VIII';
            } else if (sumaFinal >= 951 && sumaFinal >= 1000) {
                nivelTotal = 'IX';
            }else if(sumaFinal <=300){
                nivelTotal = '0';
            }

            // Determinar el nivel final como el más bajo entre nivelCalidad y nivelTotal
            const niveles = ['I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX','0'];

            let nivelFinal = "";
            if (nivelCalidad && nivelTotal) {
                nivelFinal = niveles[Math.min(niveles.indexOf(nivelCalidad), niveles.indexOf(nivelTotal))];
            } else {
                nivelFinal = nivelCalidad || nivelTotal;
            }

            // Mostrar el nivel final
            $(".profile-card-inf__item:contains('Nivel Preliminar') .profile-card-inf__title").text(nivelFinal);
            $(".profile-card-inf__item:contains('Puntos Totales') .profile-card-inf__title").text(sumaFinal);
            $(".profile-card-inf__item:contains('Nivel en calidad') .profile-card-inf__title").text(nivelCalidad);
            $(".profile-card-inf__item:contains('Nivel Total') .profile-card-inf__title").text(nivelTotal);
        }
    </script>
    <script>
        const userRole = 'PITC';
        function getPathParameterByName(position) {
            const pathname = window.location.pathname;
            const pathParts = pathname.split('/'); // Divide la URL en partes
            return pathParts[position]; // Devuelve el parámetro en la posición correcta
        }

        function getParameterByName(name) {
            const url = new URL(window.location.href);
            return url.searchParams.get(name); // Extrae el parámetro de la query string
        }

    function initializeDataTables(id) {
    // Mapa de columnas por ID específico
    const idEmpleadoAnterior = getPathParameterByName(2);
    console.log('idEmpleadoAnterior:', idEmpleadoAnterior);
        var columnConfigurations = {
            141: [
                    {
                        data: null,
                        render: function(data, type, row, meta) {
                            let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                            let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                            // Verificar si el rol no es 'Administrador' para mostrar los botones
                            if (userRole !== 'Administrador') {
                                return actualizar + " " + eliminar;
                            } else {
                                return ''; // No muestra botones si el rol es 'Administrador'
                            }
                        }
                    },
                    { data: 'fecha1', className: 'text-center', render: renderFecha },
                    { data: 'fecha2', className: 'text-center', render: renderFecha },
                    { data: 'item1', className: 'text-center', render: renderItem },
                    { data: 'item2', className: 'text-center', render: renderItem },
                    { data: 'item5', className: 'text-center', render: renderItem },
                    { data: 'unidadAcademica', className: 'text-center',render: renderUnidad },
                    { data: 'notas_observa', className: 'text-center', render: renderNotas },
                    // Columna para tokenFile y tokenFile2 juntos
                    {
                        data: null,
                        className: 'text-center',
                        render: function (data, type, row, meta) {
                            var tokenFileBtn = '';
                            var tokenFile2Btn = '';

                            if (data.tokenFile) {
                                tokenFileBtn = renderPdfLink(data.tokenFile); // Usa renderPdfLink para tokenFile
                            }

                            if (data.tokenFile2) {
                                tokenFile2Btn = renderPdfLink(data.tokenFile2); // Usa renderPdfLink para tokenFile2
                            }

                            // Unimos ambos botones en la misma celda
                            return tokenFileBtn + " " + tokenFile2Btn;
                        }
                    }
                ],

            142: [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ],
            9: [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ],
            17: [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ],
            18: [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ],
            98: [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ],
            41: [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'unidadAcademica', className: 'text-center',render: renderUnidad },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ],
            115: [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'convocatoria', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'item5', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ]
        };

        // Funciones auxiliares para renderizar
        function renderFecha(data, type, row) {
            return data ? data : 'No contiene Fecha';
        }

        function renderItem(data, type, row) {
            return data ? data : 'No contiene esta información';
        }

        function renderNotas(data, type, row) {
            return data ? data : 'No contiene notas';
        }
        function renderUnidad(data, type, row) {
            return data ? data : 'No tiene unidad académica (Registrela)';
        }

        function renderPdfLink(data, type, row, meta) {
            var route = "https://ripppajesus.uaem.mx/getFiles" + '/' + data;
            return '<a href="' + route + '" target="_blank" class="btn btn-sm btn-pdf btnBlue2"><i class="fas fa-file-pdf"></i></a>';
        }

        // Lógica para casos específicos
        var columns;

        if (columnConfigurations[id]) {
        // Si el ID está en el mapa de configuraciones
        columns = columnConfigurations[id];


        } else if(id >= 3 && id <= 11 && id !== 9) {
            // Configuración para IDs entre 3 y 11 excluyendo el 9
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'notas_observa', className: 'text-center', render: renderNotas },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        } else if (id >= 12 && id <= 13) {
            // Configuración para IDs entre 12 y 13
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center', render: renderItem  },
                { data: 'item2', className: 'text-center', render: renderItem  },
                { data: 'item3', className: 'text-center', render: renderItem  },
                { data: 'notas_observa', className: 'text-center', render: renderNotas },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id === 15) {
            columns = [
                {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return '';
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center', render: renderItem },
                { data: 'item5', className: 'text-center', render: renderItem },
                { data: 'item6', className: 'text-center', render: renderItem },
                { data: 'item7', className: 'text-center', render: renderItem },   // Solo para 15
                { data: 'item8', className: 'text-center', render: renderItem },   // Solo para 15
                { data: 'modalidad', className: 'text-center', render: renderItem }, // Solo para 15
                { data: 'notas_observa', className: 'text-center', render: renderNotas },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id === 16) {
            columns = [
                {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return '';
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center', render: renderItem },
                { data: 'item5', className: 'text-center', render: renderItem },
                { data: 'item6', className: 'text-center', render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id==20||id==22||id==27||id==29||id==34||id==36||id==134||id==136) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'unidadAcademica', className: 'text-center',render: renderUnidad },
                { data: 'item6', className: 'text-center' , render: renderItem },
                { data: 'fecha2', className: 'text-center' , render: renderItem },
                { data: 'fecha3', className: 'text-center' , render: renderItem },
                { data: 'modalidad', className: 'text-center' , render: renderItem },
                { data: 'estancia', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id==24||id==31||id==38||id==138) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'unidadAcademica', className: 'text-center',render: renderUnidad },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id==25||id==32||id==39||id==139  ) {
            columns = [
             {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'unidadAcademica', className: 'text-center',render: renderUnidad },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id==26||id==33||id==40||id==140 ) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'unidadAcademica', className: 'text-center',render: renderUnidad },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id==42||id==43) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id==54||id==56||id==57||id==58) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id >= 59 && id<=63) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'item5', className: 'text-center' , render: renderItem },
                { data: 'item6', className: 'text-center' , render: renderItem },
                { data: 'item7', className: 'text-center' , render: renderItem },
                { data: 'modalidad', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id==96) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id==44 ) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'item5', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id==53 ) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'convocatoria', className: 'text-center' , render: renderItem },
                { data: 'item5', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id==52 ) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'convocatoria', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id >= 64 && id<=66 ) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'item5', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id==55||id==100) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id >= 68 && id<=72||id==79||id==80) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'participacion', className: 'text-center', render: renderItem },
                { data: 'modalidad', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'item5', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id >= 73 && id<=78) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id >= 101 && id<=102) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'participacion', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id >= 104 && id<=106||id>=112&&id<=113||id>=116&&id<=117) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id >= 118 && id<=120) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'unidadAcademica', className: 'text-center' , render: renderUnidad },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id == 114||id>=121&&id<=125) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id>=126&&id<=128) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'categoria', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'item5', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id >= 108 && id<=109) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'fecha3', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id >= 110 && id<=111) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'fecha3', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id >= 82 && id<=84||id==86) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'participacion', className: 'text-center' , render: renderItem },
                { data: 'item5', className: 'text-center' , render: renderItem },
                { data: 'item6', className: 'text-center' , render: renderItem },
                { data: 'item7', className: 'text-center' , render: renderItem },
                { data: 'item8', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'estatus', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id==88) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'participacion', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'item5', className: 'text-center' , render: renderItem },
                { data: 'item6', className: 'text-center' , render: renderItem },
                { data: 'item7', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'estatus', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id==89) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'participacion', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'estatus', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id >= 90 && id<=91) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'participacion', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'estatus', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id==97) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'participacion', className: 'text-center' , render: renderItem },
                { data: 'estatus', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        }else if (id ==92) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'estatus', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas},
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id ==93||id==94) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'estatus', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas},
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id ==95) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'item5', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'estatus', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas},
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id == 85||id==87 ) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'item5', className: 'text-center' , render: renderItem },
                { data: 'item6', className: 'text-center' , render: renderItem },
                { data: 'item7', className: 'text-center' , render: renderItem },
                { data: 'item8', className: 'text-center' , render: renderItem },
                { data: 'item9', className: 'text-center' , render: renderItem },
                { data: 'item10', className: 'text-center' , render: renderItem },
                { data: 'item11', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'participacion', className: 'text-center' , render: renderItem },
                { data: 'estatus', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id==45||id==46) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id==47||id==48) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id==49||id==50) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'fecha2', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];

        }else if (id==21||id==23||id==28||id==30||id==35||id==37||id==135||id==137) {
            columns = [
                 {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
                { data: 'item1', className: 'text-center' , render: renderItem },
                { data: 'item2', className: 'text-center' , render: renderItem },
                { data: 'item3', className: 'text-center' , render: renderItem },
                { data: 'item4', className: 'text-center' , render: renderItem },
                { data: 'unidadAcademica', className: 'text-center',render: renderUnidad },
                { data: 'item5', className: 'text-center' , render: renderItem },
                { data: 'item6', className: 'text-center' , render: renderItem },
                { data: 'fecha2', className: 'text-center' , render: renderItem },
                { data: 'fecha3', className: 'text-center' , render: renderItem },
                { data: 'modalidad', className: 'text-center' , render: renderItem },
                { data: 'estancia', className: 'text-center' , render: renderItem },
                { data: 'criterioSeaes', className: 'text-center' , render: renderItem },
                { data: 'notas_observa', className: 'text-center', render: renderNotas  },
                { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
            ];
        } else {
        columns = [
            { data: 'item1', className: 'text-center', render: renderItem },
             {
                    data: null,
                    render: function(data, type, row, meta) {
                        let actualizar = "<button class='btn btn-sm btnBlue2' id='btnActualizar' onclick='editarActividad(" + data.idCedula + ")'><i class='far fa-edit'></i></button>";
                        let eliminar = "<button class='btn btn-sm btnBlue2' onclick='eliminarActividad(" + data.idCedula + ", " + data.id_clasificacion + ")'><i class='fas fa-trash'></i></button>";

                        // Verificar si el rol no es 'Administrador' para mostrar los botones
                        if (userRole !== 'Administrador') {
                            return actualizar + " " + eliminar;
                        } else {
                            return ''; // No muestra botones si el rol es 'Administrador'
                        }
                    }
                },
                { data: 'fecha1', className: 'text-center', render: renderFecha },
            { data: 'fecha2', className: 'text-center', render: renderFecha },
            { data: 'item5', className: 'text-center', render: function (data) {
                var numericValue = parseFloat(data);
                return !isNaN(numericValue) ? numericValue : '';
            }},
            { data: 'notas_observa', className: 'text-center', render: renderNotas },
            { data: 'tokenFile', className: 'text-center', render: renderPdfLink }
        ];
        }
        // Inicializa el DataTable con la configuración de columnas correspondiente
        return new Promise((resolve) => {
            $('#table-' + id).DataTable({
                processing: true,
                ajax: {
                    url: "https://ripppajesus.uaem.mx/actividadesHistorico",
                    type: 'GET',
                    data: function(d) {
                        d.id = id;
                        d.idEmpleadoAnterior = idEmpleadoAnterior;
                    }
                },
                columns: columns,
                language: {
                    url: '//cdn.datatables.net/plug-ins/1.10.20/i18n/Spanish.json'
                },
                paging: false,
                searching: false,
                ordering: true,
                info: false,
                lengthChange: false
            });
            resolve(); // Resuelve la promesa después de la inicialización
        });
    }
    </script>

    
<script>
function consultarActividades(idEmpleadoAnterior, selectedValue) {
const token = $('meta[name="csrf-token"]').attr('content');
$.ajax({
    url: '/consultarActividades',
    type: 'POST',
    data: {
        _token: token,
        idEmpleadoAnterior: idEmpleadoAnterior,
        selectedValue: selectedValue
    },
    beforeSend: function() {
        Swal.fire({
            title: 'Cargando...',
            text: 'Por favor espere',
            allowOutsideClick: false,
            didOpen: () => {
                Swal.showLoading();
            }
        });
    },
    success: function(response) {
        const { actividades_extension, docencia, gestion_academica, perfil_deseable_prodep } = response;
        $('#actividadesContainer').empty();
        // Agrupar actividades por tipo
        const actividadesPorTipo = {};
        [actividades_extension, docencia, gestion_academica, perfil_deseable_prodep].forEach(actividades => {
            if (actividades && actividades.length > 0) {
                actividades.forEach(actividad => {
                    const { tipo } = actividad;
                    if (!actividadesPorTipo[tipo]) {
                        actividadesPorTipo[tipo] = [];
                    }
                    actividadesPorTipo[tipo].push(actividad);
                });
            }
        });
        // Ordenar los tipos de actividades: PRODEP primero, luego los demás
        const tiposOrdenados = Object.keys(actividadesPorTipo).sort((tipoA, tipoB) => {
            if (tipoA === "PRODEP") return -1;
            if (tipoB === "PRODEP") return 1;
            return tipoA.localeCompare(tipoB); // Orden alfabético para los demás tipos
        });
        // Crear la tarjeta principal
        let mainCardHTML = `
            <div class="card mb-4" style="background-color: white;">
                <div class="card-header">
                    <h3>Actividad</h3>
                </div>
                <div class="card-body">
        `;
        // Renderizar actividades agrupadas por tipo en una sola tarjeta
        tiposOrdenados.forEach(tipo => {
            const actividades = actividadesPorTipo[tipo];
            mainCardHTML += renderActividadesAgrupadas(tipo, actividades);
        });
        mainCardHTML += `</div></div>`;
        $('#actividadesContainer').append(mainCardHTML);
    },
    complete: function() {
        // Cerrar el Swal siempre, aunque haya error o éxito
        Swal.close();
    },
    error: function(xhr, status, error) {
        console.error("Error al consultar actividades:", error);
        $('#actividadesContainer').html(`
            <div class="alert alert-danger">
                Error al cargar las actividades. Inténtalo de nuevo.
            </div>
        `);
    }
});
}
const iconMapFA4 = {
'PRODEP': 'fa fa-user',              // usuario/profesor
'Docencia': 'fa fa-book',            // libro/docencia
'Extensión': 'fa fa-users',          // comunidad/extensión
'Gestión Académica': 'fa fa-cog'     // engrane/gestión
};

function renderActividadesAgrupadas(tipo, actividades) {
const idSafeTipo = tipo.toLowerCase().replace(/\s+/g, '-');

let cardHTML = `
    <div class="card mb-4 custom-card" id="card-${idSafeTipo}" data-expandida="false">
        <div class="card-header cursor-pointer" onclick="toggleCard('${idSafeTipo}')">
            <h5>
                <!-- Chevron (Font Awesome 4) -->
                <i class="fa fa-chevron-right icon-azul" id="icon-${idSafeTipo}" aria-hidden="true"></i>

                <!-- Icono del tipo (Font Awesome 4) -->
                <i class="${iconMapFA4[tipo] || 'fa fa-file'} icon-azul" aria-hidden="true" style="margin-left:8px;"></i>

                <!-- Badge con el texto del tipo -->
                <span class="badge badge-pill rounded-pill"
                    style="background-color:#000e62; color: white; margin-left:8px; font-weight: normal;">
                    ${tipo}
                </span>
            </h5>
        </div>
        <div class="card-body" id="body-${idSafeTipo}" style="display: none;">
`;



// Agrupar actividades por id_clasificacion dentro del tipo
const actividadesPorClasificacion = {};
actividades.forEach(actividad => {
    const { id_clasificacion } = actividad.detalles;
    if (!actividadesPorClasificacion[id_clasificacion]) {
        actividadesPorClasificacion[id_clasificacion] = [];
    }
    actividadesPorClasificacion[id_clasificacion].push(actividad);
});
// Mostrar cada clasificación dentro de la tarjeta del tipo
Object.keys(actividadesPorClasificacion).forEach(id_clasificacion => {
    const actividades = actividadesPorClasificacion[id_clasificacion];
    const primeraActividad = actividades[0];
    const { clasificacion, clasificacionFinal } = primeraActividad.detalles;
    cardHTML += `
        <h4>${clasificacionFinal}</h4>
        ${id_clasificacion != 141 ? `<li style="margin-left:20px;">${clasificacion}</li>` : ""}
    `;
    // Tabla para Extensión (id_clasificacion: 79)
    if (tipo === "Extensión" && id_clasificacion == 79) {
        cardHTML += `
            <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th width="20%" class="text-center">Fecha del evento</th>
                        <th width="20%" class="text-center">Nombre del evento</th>
                        <th width="20%" class="text-center">Nombre de la obra/colección o conferencia</th>
                        <th width="20%" class="text-center">Institución organizadora</th>
                        <th width="20%" class="text-center">Participación</th>
                        <th width="20%" class="text-center">Modalidad</th>
                        <th width="20%" class="text-center">Organismo que otorgó recurso</th>
                        <th width="20%" class="text-center">Actividad realizada a través de Convenio</th>
                        <th width="20%" class="text-center">Impacto criterio SEAES</th>
                        <th width="20%" class="text-center">Notas</th>
                        <th width="10%" class="text-center">Documento</th>
                    </tr>
                </thead>
                <tbody>
        `;
        actividades.forEach(actividad => {
            const {
                idEmpleadoAnterior,
                fecha1,
                item1,
                item2,
                item3,
                participacion,
                modalidad,
                item4,
                item5,
                criterioSeaes,
                notas_observa,
                tokenFile
            } = actividad.detalles;
            cardHTML += `
                <tr>
                    <td class="text-center">${fecha1 || 'No disponible'}</td>
                    <td class="text-center">${item1 || 'No disponible'}</td>
                    <td class="text-center">${item2 || 'No disponible'}</td>
                    <td class="text-center">${item3 || 'No disponible'}</td>
                    <td class="text-center">${participacion || 'No disponible'}</td>
                    <td class="text-center">${modalidad || 'No disponible'}</td>
                    <td class="text-center">${item4 || 'No disponible'}</td>
                    <td class="text-center">${item5 || 'No disponible'}</td>
                    <td class="text-center">${criterioSeaes || 'No disponible'}</td>
                    <td class="text-center">${notas_observa || 'Sin notas'}</td>
                    <td class="text-center">
                        ${tokenFile ?
                            `<a href="/getFileA/${tokenFile}" class="btn btn-sm btn-pdf btnBlue2 openPdfModal">
                                <i class="fas fa-file-pdf"></i>
                            </a>` : 'No disponible'}
                    </td>
                </tr>
            `;
        });
        cardHTML += `
                </tbody>
            </table>
        </div>
        `;
    }
    // Tabla para Extensión (id_clasificacion: 82)
    else if (tipo === "Extensión" && (id_clasificacion == 82 || id_clasificacion == 83)) {
        cardHTML += `
            <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th width="20%" class="text-center">Fecha de publicación</th>
                        <th width="20%" class="text-center">Título de la publicación</th>
                        <th width="20%" class="text-center">Revista</th>
                        <th width="20%" class="text-center">ISSN</th>
                        <th width="20%" class="text-center">Liga de acceso</th>
                        <th width="20%" class="text-center">Participación en la publicación</th>
                        <th width="20%" class="text-center">Idioma en que se realizó la publicación</th>
                        <th width="20%" class="text-center">Alcance de la revista</th>
                        <th width="20%" class="text-center">El artículo se realizó en coautoría con académicos extranjeros</th>
                        <th width="20%" class="text-center">Nacionalidad del académico extranjero</th>
                        <th width="20%" class="text-center">Impacto criterio SEAES</th>
                        <th width="20%" class="text-center">Estatus</th>
                        <th width="20%" class="text-center">Notas</th>
                        <th width="20%" class="text-center">Documento</th>
                    </tr>
                </thead>
                <tbody>
        `;
        actividades.forEach(actividad => {
            const {
                idEmpleadoAnterior,
                fecha1,
                item1,
                item2,
                item3,
                item4,
                participacion,
                item5,
                item6,
                item7,
                item8,
                criterioSeaes,
                estatus,
                notas_observa,
                tokenFile
            } = actividad.detalles;
            cardHTML += `
                <tr>
                    <td class="text-center">${fecha1 || 'No disponible'}</td>
                    <td class="text-center">${item1 || 'No disponible'}</td>
                    <td class="text-center">${item2 || 'No disponible'}</td>
                    <td class="text-center">${item3 || 'No disponible'}</td>
                    <td class="text-center">${item4 || 'No disponible'}</td>
                    <td class="text-center">${participacion || 'No disponible'}</td>
                    <td class="text-center">${item5 || 'No disponible'}</td>
                    <td class="text-center">${item6 || 'No disponible'}</td>
                    <td class="text-center">${item7 || 'No disponible'}</td>
                    <td class="text-center">${item8 || 'No disponible'}</td>
                    <td class="text-center">${criterioSeaes || 'No disponible'}</td>
                    <td class="text-center">${estatus || 'No disponible'}</td>
                    <td class="text-center">${notas_observa || 'Sin notas'}</td>
                    <td class="text-center">
                        <div class="d-flex justify-content-center gap-1">
                            ${tokenFile ?
                                `<button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/${tokenFile}/${idEmpleadoAnterior}">
                                    <i class="fas fa-file-pdf"></i>
                                </button>`
                                : 'No disponible'}
                        </div>
                    </td>
                </tr>
            `;
        });
        cardHTML += `
                </tbody>
            </table>
        </div>
        `;
    }
    // Tabla para Extensión (id_clasificacion: 126, 127, 128)
    else if (tipo === "Extensión" && (id_clasificacion == 126 || id_clasificacion == 127 || id_clasificacion == 128)) {
        cardHTML += `
            <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th width="20%" class="text-center">Fecha en que se realizó el evento</th>
                        <th width="20%" class="text-center">Lugar</th>
                        <th width="20%" class="text-center">Nombre del evento</th>
                        <th width="20%" class="text-center">Categoría</th>
                        <th width="10%" class="text-center">Apoyo logístico o institucional de embajadas, consulados o agencias extranjeras</th>
                        <th width="15%" class="text-center">Invitación y presencia de expertos, investigadores, artistas o docentes de otros países</th>
                        <th width="15%" class="text-center">País</th>
                        <th width="30%" class="text-center">Notas</th>
                        <th width="10%" class="text-center">Documento</th>
                    </tr>
                </thead>
                <tbody>
        `;
        actividades.forEach(actividad => {
            const {
                idEmpleadoAnterior,
                fecha1,
                item1,
                item2,
                categoria,
                item3,
                item4,
                item5,
                notas_observa,
                tokenFile
            } = actividad.detalles;
            cardHTML += `
                <tr>
                    <td class="text-center">${fecha1 || 'No disponible'}</td>
                    <td class="text-center">${item1 || 'No disponible'}</td>
                    <td class="text-center">${item2 || 'No disponible'}</td>
                    <td class="text-center">${categoria || 'No disponible'}</td>
                    <td class="text-center">${item3 || 'No disponible'}</td>
                    <td class="text-center">${item4 || 'No disponible'}</td>
                    <td class="text-center">${item5 || 'No disponible'}</td>
                    <td class="text-center">${notas_observa || 'Sin notas'}</td>
                    <td class="text-center">
                        <div class="d-flex justify-content-center gap-1">
                            ${tokenFile ?
                                `<button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/${tokenFile}/${idEmpleadoAnterior}">
                                    <i class="fas fa-file-pdf"></i>
                                </button>`
                                : 'No disponible'}
                        </div>
                    </td>
                </tr>
            `;
        });
        cardHTML += `
                </tbody>
            </table>
        </div>
        `;
    }
    // Tabla para Docencia (id_clasificacion: 141)
    else if (tipo === "Docencia" && id_clasificacion == 141) {
        cardHTML += `
            <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th width="10%" class="text-center">Inicio del semestre</th>
                        <th width="10%" class="text-center">Término del semestre</th>
                        <th width="10%" class="text-center">Unidad de aprendizaje</th>
                        <th width="20%" class="text-center">Programa educativo</th>
                        <th width="10%" class="text-center">Número hsm</th>
                        <th width="10%" class="text-center">Unidad Académica</th>
                        <th width="10%" class="text-center">Notas</th>
                        <th width="10%" class="text-center">Documento</th>
                    </tr>
                </thead>
                <tbody>
        `;
        actividades.forEach(actividad => {
            const {
                idEmpleadoAnterior,
                fecha1,
                fecha2,
                item1,
                item2,
                item5,
                unidadAcademica,
                notas_observa,
                tokenFile,
                tokenFile2
            } = actividad.detalles;
            cardHTML += `
                <tr>
                    <td class="text-center">${fecha1 || 'No disponible'}</td>
                    <td class="text-center">${fecha2 || 'No disponible'}</td>
                    <td class="text-center">${item1 || 'No disponible'}</td>
                    <td class="text-center">${item2 || 'No disponible'}</td>
                    <td class="text-center">${item5 || 'No disponible'}</td>
                    <td class="text-center">${unidadAcademica || 'No disponible'}</td>
                    <td class="text-center">${notas_observa || 'Sin notas'}</td>
                    <td class="text-center">
                        <div class="d-flex justify-content-center gap-1">
                            ${tokenFile ?
                                `<button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/${tokenFile}/${idEmpleadoAnterior}">
                                    <i class="fas fa-file-pdf"></i>
                                </button>` : ''}
                            ${tokenFile2 ?
                                `<button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/${tokenFile2}/${idEmpleadoAnterior}">
                                    <i class="fas fa-file-pdf"></i>
                                </button>` : ''}
                            ${!tokenFile && !tokenFile2 ? 'No disponible' : ''}
                        </div>
                    </td>
                </tr>
            `;
        });
        cardHTML += `
                </tbody>
            </table>
        </div>
        `;
    }
    // Tabla para Gestión Académica (id_clasificacion: 108-109)
    else if (tipo === "Gestión Académica" && (id_clasificacion >= 108 && id_clasificacion <= 109)) {
        cardHTML += `
            <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th width="20%" class="text-center">Inicio de la actividad</th>
                        <th width="20%" class="text-center">Término de la actividad</th>
                        <th width="20%" class="text-center">Fecha de aprobación del CU</th>
                        ${id_clasificacion == 109 ? '<th width="20%" class="text-center">Plan de estudios</th>' : ''}
                        <th width="30%" class="text-center">Notas</th>
                        <th width="10%" class="text-center">Documento</th>
                    </tr>
                </thead>
                <tbody>
        `;
        actividades.forEach(actividad => {
            const {
                idEmpleadoAnterior,
                fecha1,
                fecha2,
                fecha3,
                item1,
                notas_observa,
                tokenFile
            } = actividad.detalles;
            cardHTML += `
                <tr>
                    <td class="text-center">${fecha1 || 'No disponible'}</td>
                    <td class="text-center">${fecha2 || 'No disponible'}</td>
                    <td class="text-center">${fecha3 || 'No disponible'}</td>
                    ${id_clasificacion == 109 ? `<td class="text-center">${item1 || 'No disponible'}</td>` : ''}
                    <td class="text-center">${notas_observa || 'Sin notas'}</td>
                    <td class="text-center">
                        <div class="d-flex justify-content-center gap-1">
                            ${tokenFile ?
                                `<button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/${tokenFile}/${idEmpleadoAnterior}">
                                    <i class="fas fa-file-pdf"></i>
                                </button>`
                                : 'No disponible'}
                        </div>
                    </td>
                </tr>
            `;
        });
        cardHTML += `
                </tbody>
            </table>
        </div>
        `;
    }
    // Tabla para Gestión Académica (id_clasificacion: 110-111)
    else if (tipo === "Gestión Académica" && (id_clasificacion >= 110 && id_clasificacion <= 111)) {
        cardHTML += `
            <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th width="20%" class="text-center">Inicio de la actividad</th>
                        <th width="20%" class="text-center">Término de la actividad</th>
                        <th width="20%" class="text-center">Fecha de aprobación del CU</th>
                        <th width="20%" class="text-center">Nombre del contenido temático</th>
                        <th width="10%" class="text-center">Plan de estudios</th>
                        <th width="30%" class="text-center">Notas</th>
                        <th width="10%" class="text-center">Documento</th>
                    </tr>
                </thead>
                <tbody>
        `;
        actividades.forEach(actividad => {
            const {
                idEmpleadoAnterior,
                fecha1,
                fecha2,
                fecha3,
                item1,
                item2,
                notas_observa,
                tokenFile
            } = actividad.detalles;
            cardHTML += `
                <tr>
                    <td class="text-center">${fecha1 || 'No disponible'}</td>
                    <td class="text-center">${fecha2 || 'No disponible'}</td>
                    <td class="text-center">${fecha3 || 'No disponible'}</td>
                    <td class="text-center">${item1 || 'No disponible'}</td>
                    <td class="text-center">${item2 || 'No disponible'}</td>
                    <td class="text-center">${notas_observa || 'Sin notas'}</td>
                    <td class="text-center">
                        <div class="d-flex justify-content-center gap-1">
                            ${tokenFile ?
                                `<button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/${tokenFile}/${idEmpleadoAnterior}">
                                    <i class="fas fa-file-pdf"></i>
                                </button>`
                                : 'No disponible'}
                        </div>
                    </td>
                </tr>
            `;
        });
        cardHTML += `
                </tbody>
            </table>
        </div>
        `;
    }
    // Tabla para Gestión Académica (id_clasificacion: 112-113)
    else if (tipo === "Gestión Académica" && (id_clasificacion >= 112 && id_clasificacion <= 113)) {
        cardHTML += `
            <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th width="20%" class="text-center">Inicio de la actividad</th>
                        <th width="20%" class="text-center">Término de la actividad</th>
                        <th width="20%" class="text-center">Programa educativo</th>
                        <th width="20%" class="text-center">Organismo acreditador</th>
                        <th width="30%" class="text-center">Notas</th>
                        <th width="10%" class="text-center">Documento</th>
                    </tr>
                </thead>
                <tbody>
        `;
        actividades.forEach(actividad => {
            const {
                idEmpleadoAnterior,
                fecha1,
                fecha2,
                item1,
                item2,
                notas_observa,
                tokenFile
            } = actividad.detalles;
            cardHTML += `
                <tr>
                    <td class="text-center">${fecha1 || 'No disponible'}</td>
                    <td class="text-center">${fecha2 || 'No disponible'}</td>
                    <td class="text-center">${item1 || 'No disponible'}</td>
                    <td class="text-center">${item2 || 'No disponible'}</td>
                    <td class="text-center">${notas_observa || 'Sin notas'}</td>
                    <td class="text-center">
                        <div class="d-flex justify-content-center gap-1">
                            ${tokenFile ?
                                `<button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/${tokenFile}/${idEmpleadoAnterior}">
                                    <i class="fas fa-file-pdf"></i>
                                </button>`
                                : 'No disponible'}
                        </div>
                    </td>
                </tr>
            `;
        });
        cardHTML += `
                </tbody>
            </table>
        </div>
        `;
    }
    // Tabla para Gestión Académica (id_clasificacion: 114)
    else if (tipo === "Gestión Académica" && id_clasificacion == 114) {
        cardHTML += `
            <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th width="20%" class="text-center">Inicio de la actividad</th>
                        <th width="20%" class="text-center">Término de la actividad</th>
                        <th width="20%" class="text-center">Nombre de la comisión</th>
                        <th width="30%" class="text-center">Notas</th>
                        <th width="10%" class="text-center">Documento</th>
                    </tr>
                </thead>
                <tbody>
        `;
        actividades.forEach(actividad => {
            const {
                idEmpleadoAnterior,
                fecha1,
                fecha2,
                item1,
                notas_observa,
                tokenFile
            } = actividad.detalles;
            cardHTML += `
                <tr>
                    <td class="text-center">${fecha1 || 'No disponible'}</td>
                    <td class="text-center">${fecha2 || 'No disponible'}</td>
                    <td class="text-center">${item1 || 'No disponible'}</td>
                    <td class="text-center">${notas_observa || 'Sin notas'}</td>
                    <td class="text-center">
                        <div class="d-flex justify-content-center gap-1">
                            ${tokenFile ?
                                `<button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/${tokenFile}/${idEmpleadoAnterior}">
                                    <i class="fas fa-file-pdf"></i>
                                </button>`
                                : 'No disponible'}
                        </div>
                    </td>
                </tr>
            `;
        });
        cardHTML += `
                </tbody>
            </table>
        </div>
        `;
    }
    // Tabla para Gestión Académica (id_clasificacion: 115)
    else if (tipo === "Gestión Académica" && id_clasificacion == 115) {
        cardHTML += `
            <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th width="20%" class="text-center">Fecha de conclusión de la evaluación</th>
                        <th width="20%" class="text-center">Convocatoria</th>
                        <th width="20%" class="text-center">Institución u organismo</th>
                        <th width="20%" class="text-center">Número de proyectos</th>
                        <th width="30%" class="text-center">Notas</th>
                        <th width="10%" class="text-center">Documento</th>
                    </tr>
                </thead>
                <tbody>
        `;
        actividades.forEach(actividad => {
            const {
                idEmpleadoAnterior,
                fecha1,
                convocatoria,
                item4,
                item5,
                notas_observa,
                tokenFile
            } = actividad.detalles;
            cardHTML += `
                <tr>
                    <td class="text-center">${fecha1 || 'No disponible'}</td>
                    <td class="text-center">${convocatoria || 'No disponible'}</td>
                    <td class="text-center">${item4 || 'No disponible'}</td>
                    <td class="text-center">${item5 || 'No disponible'}</td>
                    <td class="text-center">${notas_observa || 'Sin notas'}</td>
                    <td class="text-center">
                        <div class="d-flex justify-content-center gap-1">
                            ${tokenFile ?
                                `<button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/${tokenFile}/${idEmpleadoAnterior}">
                                    <i class="fas fa-file-pdf"></i>
                                </button>`
                                : 'No disponible'}
                        </div>
                    </td>
                </tr>
            `;
        });
        cardHTML += `
                </tbody>
            </table>
        </div>
        `;
    }
    // Tabla para Gestión Académica (id_clasificacion: 116-117)
    else if (tipo === "Gestión Académica" && (id_clasificacion >= 116 && id_clasificacion <= 117)) {
        cardHTML += `
            <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th width="20%" class="text-center">Inicio de la actividad</th>
                        <th width="20%" class="text-center">Término de la actividad</th>
                        <th width="20%" class="text-center">Nombre de la Comisión</th>
                        <th width="20%" class="text-center">${id_clasificacion == 116 ? 'Institución u organismo' : 'Secretaría o Institución que solicita la Comisión'}</th>
                        <th width="30%" class="text-center">Notas</th>
                        <th width="10%" class="text-center">Documento</th>
                    </tr>
                </thead>
                <tbody>
        `;
        actividades.forEach(actividad => {
            const {
                idEmpleadoAnterior,
                fecha1,
                fecha2,
                item1,
                item2,
                notas_observa,
                tokenFile
            } = actividad.detalles;
            cardHTML += `
                <tr>
                    <td class="text-center">${fecha1 || 'No disponible'}</td>
                    <td class="text-center">${fecha2 || 'No disponible'}</td>
                    <td class="text-center">${item1 || 'No disponible'}</td>
                    <td class="text-center">${item2 || 'No disponible'}</td>
                    <td class="text-center">${notas_observa || 'Sin notas'}</td>
                    <td class="text-center">
                        <div class="d-flex justify-content-center gap-1">
                            ${tokenFile ?
                                `<button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/${tokenFile}/${idEmpleadoAnterior}">
                                    <i class="fas fa-file-pdf"></i>
                                </button>`
                                : 'No disponible'}
                        </div>
                    </td>
                </tr>
            `;
        });
        cardHTML += `
                </tbody>
            </table>
        </div>
        `;
    }
    // Tabla para Gestión Académica (id_clasificacion: 118-120)
    else if (tipo === "Gestión Académica" && (id_clasificacion >= 118 && id_clasificacion <= 120)) {
        cardHTML += `
            <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th width="15%" class="text-center">Inicio del cargo</th>
                        <th width="15%" class="text-center">Término del cargo</th>
                        <th width="20%" class="text-center">Nombramiento</th>
                        <th width="20%" class="text-center">Unidad Académica</th>
                        <th width="40%" class="text-center">Notas</th>
                        <th width="10%" class="text-center">Documento</th>
                    </tr>
                </thead>
                <tbody>
        `;
        actividades.forEach(actividad => {
            const {
                idEmpleadoAnterior,
                fecha1,
                fecha2,
                item1,
                unidadAcademica,
                notas_observa,
                tokenFile
            } = actividad.detalles;
            cardHTML += `
                <tr>
                    <td class="text-center">${fecha1 || 'No disponible'}</td>
                    <td class="text-center">${fecha2 || 'No disponible'}</td>
                    <td class="text-center">${item1 || 'No disponible'}</td>
                    <td class="text-center">${unidadAcademica || 'No disponible'}</td>
                    <td class="text-center">${notas_observa || 'Sin notas'}</td>
                    <td class="text-center">
                        <div class="d-flex justify-content-center gap-1">
                            ${tokenFile ?
                                `<button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/${tokenFile}/${idEmpleadoAnterior}">
                                    <i class="fas fa-file-pdf"></i>
                                </button>`
                                : 'No disponible'}
                        </div>
                    </td>
                </tr>
            `;
        });
        cardHTML += `
                </tbody>
            </table>
        </div>
        `;
    }
    // Tabla para Gestión Académica (id_clasificacion: 121-125)
    else if (tipo === "Gestión Académica" && (id_clasificacion >= 121 && id_clasificacion <= 125)) {
        cardHTML += `
            <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th width="20%" class="text-center">Inicio del cargo</th>
                        <th width="20%" class="text-center">Término del cargo</th>
                        <th width="20%" class="text-center">Nombre del programa educativo</th>
                        <th width="30%" class="text-center">Notas</th>
                        <th width="10%" class="text-center">Documento</th>
                    </tr>
                </thead>
                <tbody>
        `;
        actividades.forEach(actividad => {
            const {
                idEmpleadoAnterior,
                fecha1,
                fecha2,
                item1,
                notas_observa,
                tokenFile
            } = actividad.detalles;
            cardHTML += `
                <tr>
                    <td class="text-center">${fecha1 || 'No disponible'}</td>
                    <td class="text-center">${fecha2 || 'No disponible'}</td>
                    <td class="text-center">${item1 || 'No disponible'}</td>
                    <td class="text-center">${notas_observa || 'Sin notas'}</td>
                    <td class="text-center">
                        <div class="d-flex justify-content-center gap-1">
                            ${tokenFile ?
                                `<button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/${tokenFile}/${idEmpleadoAnterior}">
                                    <i class="fas fa-file-pdf"></i>
                                </button>`
                                : 'No disponible'}
                        </div>
                    </td>
                </tr>
            `;
        });
        cardHTML += `
                </tbody>
            </table>
        </div>
        `;
    }
    // Tabla para PRODEP (id_clasificacion: 10, 11)
    else if (tipo === "PRODEP" && (id_clasificacion == 11 || id_clasificacion == 10)) {
        cardHTML += `
            <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th width="20%" class="text-center">Inicio de vigencia</th>
                        <th width="20%" class="text-center">Término de vigencia</th>
                        <th width="30%" class="text-center">Notas</th>
                        <th width="20%" class="text-center">Documento</th>
                    </tr>
                </thead>
                <tbody>
        `;
        actividades.forEach(actividad => {
            const { idEmpleadoAnterior,fecha1, fecha2, notas_observa, tokenFile } = actividad.detalles;
            cardHTML += `
                <tr>
                    <td class="text-center">${fecha1 || 'No disponible'}</td>
                    <td class="text-center">${fecha2 || 'No disponible'}</td>
                    <td class="text-center">${notas_observa || 'Sin notas'}</td>
                    <td class="text-center">
                        <div class="d-flex justify-content-center gap-1">
                            ${tokenFile ?
                                `<button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFileA/${tokenFile}/${idEmpleadoAnterior}">
                                    <i class="fas fa-file-pdf"></i>
                                </button>`
                                : 'No disponible'}
                        </div>
                    </td>
                </tr>
            `;
        });
        cardHTML += `
                </tbody>
            </table>
        </div>
        `;
    }
});
cardHTML += `</div></div>`;
return cardHTML;
}
function toggleCard(tipo) {
const card = document.getElementById(`card-${tipo}`);
const body = document.getElementById(`body-${tipo}`);
const icon = document.getElementById(`icon-${tipo}`);
const isExpandida = card.getAttribute('data-expandida') === 'true';
if (isExpandida) {
    body.style.display = 'none';
    icon.classList.remove('fa-chevron-down');
    icon.classList.add('fa-chevron-right');
} else {
    body.style.display = 'block';
    icon.classList.remove('fa-chevron-right');
    icon.classList.add('fa-chevron-down');
}
card.setAttribute('data-expandida', !isExpandida);
}
$(document).on('click', '.openPdfModal', function () {
let pdfUrl = $(this).data('route');

// Resetea el contenido antes de abrir
$("#pdfViewer").hide().attr("src", "");
$("#pdfMessage").hide().text("");

$.ajax({
    url: pdfUrl,
    type: 'GET',
    xhrFields: {
        responseType: 'blob'
    },
    success: function (data) {
        let blobUrl = URL.createObjectURL(data);
        $("#pdfViewer").attr("src", blobUrl).show();
        $("#pdfMessage").hide();
        $("#pdfModal").modal("show");
    },
    error: function (xhr) {
        let msg = "Ha ocurrido un error.";
        if (xhr.status === 404) {
            msg = "Documento no disponible";
        } else if (xhr.status === 500) {
            msg = "Error en el servidor, intente más tarde.";
        }
        $("#pdfViewer").hide();
        $("#pdfMessage").text(msg).show();
        $("#pdfModal").modal("show");
    }
});
});

$(document).ready(function() {
let selectedValue = "IX";
const idEmpleadoAnterior = 490;
consultarActividades(idEmpleadoAnterior, selectedValue);
});
</script>

<script>
    $(document).ready(function() {
        const token = document.querySelector('meta[name="csrf-token"]').getAttribute('content');
        const idEmpleadoAnterior = 490;
        let selectedValue = "IX";
        const existeEmp = false;
        if (!['VII', 'VIII', 'IX'].includes(selectedValue) || existeEmp) {
            $("#collapse_cuali").hide();
            return;
        }else{
            $("#collapse_cuali").show();
        }
        $.ajax({
            url: '/actividadesCualiper',
            type: 'POST',
            data: {
                _token: token,
                idEmpleadoAnterior: idEmpleadoAnterior,
                selectedValue: selectedValue
            },
            success: function(response) {
                // Limpiar el contenedor antes de agregar nuevas tarjetas
                $('#contenedor').empty();

                // Crear una tarjeta principal para "Criterios cualitativos"
                let tarjetaPrincipal = `
                    <div class="card mb-4">
                        <div class="card-header d-flex justify-content-between align-items-center" style="background-color: #000e62;">
                            <div class="d-flex align-items-center">
                                <i class="fa fa-trophy mr-2" style="color: white; font-size: 24px;"></i>
                                <h3 class="mb-0" style="color: white;">Criterios cualitativos</h3>
                            </div>
                        </div>
                        <div class="card-body" id="criterios-cualitativos-body" style="border-radius:50px;">
                            <div class="accordion" id="criteriosAccordion">
                `;


                // Orden para mostrar los grupos
                const ordenGrupos = ['grupo_1', 'grupo_2', 'grupo_3', 'grupo_4', 'grupo_5', 'grupo_6', 'grupo_7', 'grupo_8', 'grupo_9', 'grupo_10', 'grupo_11'];

                // Iterar sobre cada grupo en el orden especificado
                ordenGrupos.forEach(function(grupo, index) {
                    if (response[grupo]) {
                        let grupoData = response[grupo];
                        let actividades = grupoData.actividades || [];
                        let descripcion = getDescripcionGrupo(grupo);

                        // Crear un objeto para agrupar actividades por id_clasificacion
                        let actividadesPorClasificacion = {};
                        // Agrupar actividades por id_clasificacion
                        actividades.forEach(function(actividad) {
                            let idClasificacion = actividad.id_clasificacion;
                            if (!actividadesPorClasificacion[idClasificacion]) {
                                actividadesPorClasificacion[idClasificacion] = [];
                            }
                            actividadesPorClasificacion[idClasificacion].push(actividad);
                        });

                        // Crear un elemento de acordeón para cada grupo
                        let criterioItem = `
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="heading${index}">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse${index}" aria-expanded="false" aria-controls="collapse${index}">
                                        ${descripcion}
                                    </button>
                                </h2>
                                <div id="collapse${index}" class="accordion-collapse collapse" aria-labelledby="heading${index}" data-bs-parent="#criteriosAccordion">
                                    <div class="accordion-body">
                        `;

                        // Manejar cada grupo según sus características
                        if (grupo === 'grupo_2') {
                            // Mostrar tipoContrato si está disponible
                            let tipoContrato = grupoData.carta ? (grupoData.carta.tipoContrato || 'No disponible') : 'No disponible';
                            criterioItem += `
                                <div class="card mb-3">
                                    <div class="card-body">
                                        <p class="card-text"><strong>Tipo de Contrato:</strong> ${tipoContrato}</p>
                                    </div>
                                </div>
                            `;
                        }
                        else if (grupo === 'grupo_3') {
                            // Mostrar categoría
                            let categoria = grupoData.categoria ? grupoData.categoria.categoria : 'No disponible';
                            criterioItem += `
                                <div class="card mb-3">
                                    <div class="card-body">
                                        <p class="card-text"><strong>Categoría:</strong> ${categoria}</p>
                                    </div>
                                </div>
                            `;
                        }
                        else if (grupo === 'grupo_6') {
                            // Mostrar "Por verificar"
                            let info = grupoData.info ? grupoData.info.join(', ') : 'No disponible';
                            criterioItem += `
                                <div class="card mb-3">
                                    <div class="card-body">
                                        <p class="card-text"><strong>Información:</strong> ${info}</p>
                                    </div>
                                </div>
                            `;
                        }
                        else {
                            // Iterar sobre cada clasificación dentro del grupo
                            for (let idClasificacion in actividadesPorClasificacion) {
                                let actividadesClasificacion = actividadesPorClasificacion[idClasificacion];
                                // Mostrar Clasificación Final si está disponible
                                let clasificacionFinal = actividadesClasificacion[0].clasificacionFinal ? actividadesClasificacion[0].clasificacionFinal : 'Sin Clasificación Final';
                                criterioItem += `
                                    <div class="card mb-3">
                                        <div class="card-body">
                                            <h6 class="card-title"><strong>${clasificacionFinal}</strong></h6>
                                `;
                                // Mostrar Clasificación si está disponible y no es 141
                                if (idClasificacion != 141) {
                                    let clasificacion = actividadesClasificacion[0].clasificacion ? actividadesClasificacion[0].clasificacion : 'Sin Clasificación';
                                    criterioItem += `
                                        <li class="card-text" style="color:#000e62; margin-left:20px;">${clasificacion}</li>
                                    `;
                                }
                                // Generar la tabla según la clasificación
                                if (grupo === 'grupo_1' && (idClasificacion >= 3 && idClasificacion <= 11 && idClasificacion !== 9)) {
                                    criterioItem += generarTablaGrupo1(actividadesClasificacion);
                                }
                                else if (grupo === 'grupo_4' && [105, 106, 112, 113, 116, 117].includes(parseInt(idClasificacion))) {
                                    criterioItem += generarTablaGrupo4(actividadesClasificacion);
                                }
                                else if (grupo === 'grupo_5' && idClasificacion == 52) {
                                    criterioItem += generarTablaGrupo5(actividadesClasificacion);
                                }
                                else if (grupo === 'grupo_7' && [20, 21, 23, 27, 30, 34, 37, 134, 137, 36].includes(parseInt(idClasificacion))) {
                                    criterioItem += generarTablaGrupo7(actividadesClasificacion, idClasificacion);
                                }
                                else if (grupo === 'grupo_8' && ([12, 13].includes(parseInt(idClasificacion)) ||
                                        (parseInt(idClasificacion) >= 71 && parseInt(idClasificacion) <= 78) ||
                                        (parseInt(idClasificacion) >= 101 && parseInt(idClasificacion) <= 102))) {
                                    criterioItem += generarTablaGrupo8(actividadesClasificacion, idClasificacion);
                                }
                                else if (grupo === 'grupo_9' && [115, 116, 117].includes(parseInt(idClasificacion))) {
                                    criterioItem += generarTablaGrupo9(actividadesClasificacion, idClasificacion);
                                }
                                else if (grupo === 'grupo_10' && ([55, 56, 57, 58].includes(parseInt(idClasificacion)) ||
                                        (parseInt(idClasificacion) >= 81 && parseInt(idClasificacion) <= 91))) {
                                    criterioItem += generarTablaGrupo10(actividadesClasificacion, idClasificacion);
                                }
                                else if (grupo === 'grupo_11' && idClasificacion == 141) {
                                    criterioItem += generarTablaGrupo11(actividadesClasificacion);
                                }
                                criterioItem += `</div></div>`;
                            }
                        }

                        criterioItem += `
                                    </div>
                                </div>
                            </div>
                        `;
                        tarjetaPrincipal += criterioItem;
                    }
                });

                tarjetaPrincipal += `
                            </div>
                        </div>
                    </div>
                `;

                $('#contenedor').append(tarjetaPrincipal);
            },
            error: function(xhr, status, error) {
                console.error(error);
            }
        });

        function getDescripcionGrupo(grupo) {
            if (grupo == 'grupo_1') {
                return `<span class="numero-circulo">1</span><span class="texto-azul-oscuro"> Ser miembro del Sistema Nacional de Investigadoras e Investigadores o del Sistema Nacional de Creadores de Arte.</span>`;
            } else if (grupo == 'grupo_2') {
                return `<span class="numero-circulo">2</span><span class="texto-azul-oscuro"> Contar con definitividad laboral en la UAEM.</span>`;
            } else if (grupo == 'grupo_3') {
                return `<span class="numero-circulo">3</span><span class="texto-azul-oscuro"> Tener nombramiento de Profesor Investigador de Tiempo Completo Titular B o C otorgado por la UAEM.</span>`;
            } else if (grupo == 'grupo_4') {
                return `<span class="numero-circulo">4</span><span class="texto-azul-oscuro"> Pertenecer a un Cuerpo Académico Consolidado o En Consolidación, reconocido por el PRODEP.</span>`;
            } else if (grupo == 'grupo_5') {
                return `<span class="numero-circulo">5</span><span class="texto-azul-oscuro"> Fungir como responsable en un proyecto de investigación o creación artística financiado en el periodo a evaluar.</span>`;
            } else if (grupo == 'grupo_6') {
                return `<span class="numero-circulo">6</span><span class="texto-azul-oscuro"> Tener una eficiencia terminal personal de posgrado de 50% en los últimos 3 años.</span>`;
            } else if (grupo == 'grupo_7') {
                return `<span class="numero-circulo">7</span><span class="texto-azul-oscuro"> Contribuir al mejoramiento de la calidad de los programas académicos mediante la conclusión de por lo menos una tesis o proyecto de creación artística.</span>`;
            } else if (grupo == 'grupo_8') {
                return `<span class="numero-circulo">8</span><span class="texto-azul-oscuro"> Contribuir al reconocimiento nacional o internacional de la UAEM.</span>`;
            } else if (grupo == 'grupo_9') {
                return `<span class="numero-circulo">9</span><span class="texto-azul-oscuro"> Participar como evaluador de proyectos y programas internacionales, federales, estatales o de la propia UAEM.</span>`;
            } else if (grupo == 'grupo_10') {
                return `<span class="numero-circulo">10</span><span class="texto-azul-oscuro"> Demostrar independencia en la generación y/o aplicación del conocimiento o creación artística.</span>`;
            } else if (grupo == 'grupo_11') {
                return `<span class="numero-circulo">11</span><span class="texto-azul-oscuro"> Impartir docencia en cursos curriculares a nivel Licenciatura al menos en un semestre en el periodo a evaluar.</span>`;
            } else {
                return "";
            }
        }

        // Funciones para generar tablas (se mantienen igual)
        function generarTablaGrupo1(actividades) {
            let tabla = `
                <div class="table-responsive">
                    <table class="table table-bordered" style="font-size:12px;">
                        <thead><tr>
                            <th width="20%" class="text-center">Inicio de vigencia</th>
                            <th width="20%" class="text-center">Término de vigencia</th>
                            <th width="30%" class="text-center">Notas</th>
                            <th width="20%" class="text-center">Documento</th>
                        </tr></thead>
                        <tbody>
            `;
            actividades.forEach(function(actividad) {
                tabla += `
                    <tr>
                        <td class="borderb" style="text-align: center;">${actividad.fecha1 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.fecha2 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.notas_observa || 'No se contienen notas'}</td>
                        <td class="borderb text-center">
                            ${actividad.tokenFile ? `
                                <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal"
                                        data-route="/getFileA/${actividad.tokenFile}/${actividad.idEmpleadoAnterior}">
                                    <i class="fas fa-file-pdf"></i>
                                </button>
                            ` : 'No disponible'}
                        </td>

                    </tr>
                `;
            });
            tabla += `
                        </tbody>
                    </table>
                </div>
            `;
            return tabla;
        }

        function generarTablaGrupo4(actividades) {
            let tabla = `
                <div class="table-responsive">
                    <table class="table table-bordered" style="font-size:12px;">
                        <thead><tr>
                            <th width="20%" class="text-center">Inicio vigencia</th>
                            <th width="20%" class="text-center">Término vigencia</th>
                            <th width="20%" class="text-center">Nombre del Cuerpo Académico</th>
                            <th width="20%" class="text-center">Responsable</th>
                            <th width="30%"class="text-center">Notas</th>
                            <th width="10%" class="text-center">Documento</th>
                        </tr></thead>
                        <tbody>
            `;
            actividades.forEach(function(actividad) {
                tabla += `
                    <tr>
                        <td class="borderb" style="text-align: center;">${actividad.fecha1 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.fecha2 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.item1 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.item2 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.notas_observa || 'No se contienen notas'}</td>
                        <td class="borderb text-center">
                            ${actividad.tokenFile ? `
                                <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal"
                                        data-route="/getFileA/${actividad.tokenFile}/${actividad.idEmpleadoAnterior}">
                                    <i class="fas fa-file-pdf"></i>
                                </button>
                            ` : 'No disponible'}
                        </td>
                    </tr>
                `;
            });
            tabla += `
                        </tbody>
                    </table>
                </div>
            `;
            return tabla;
        }

        function generarTablaGrupo5(actividades) {
            let tabla = `
                <div class="table-responsive">
                    <table class="table table-bordered" style="font-size:12px;">
                        <thead><tr>
                            <th width="10%" class="text-center">Inicio vigencia</th>
                            <th width="10%" class="text-center">Término vigencia</th>
                            <th width="20%" class="text-center">Título del proyecto</th>
                            <th width="20%" class="text-center">Fuente de financiamiento</th>
                            <th width="20%" class="text-center">Convocatoria</th>
                            <th width="10%" class="text-center">Monto aprobado</th>
                            <th width="20%" class="text-center">Impacto criterio SEAES</th>
                            <th width="30%" class="text-center">Notas</th>
                            <th width="10%" class="text-center">Documento</th>
                        </tr></thead>
                        <tbody>
            `;
            actividades.forEach(function(actividad) {
                tabla += `
                    <tr>
                        <td class="borderb" style="text-align: center;">${actividad.fecha1 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.fecha2 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.item1 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.item2 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.convocatoria || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.item4 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.criterioSeaes || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.notas_observa || 'No se contienen notas'}</td>
                        <td class="borderb text-center">
                            ${actividad.tokenFile ? `
                                <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal"
                                        data-route="/getFileA/${actividad.tokenFile}/${actividad.idEmpleadoAnterior}">
                                    <i class="fas fa-file-pdf"></i>
                                </button>
                            ` : 'No disponible'}
                        </td>

                    </tr>
                `;
            });
            tabla += `
                        </tbody>
                    </table>
                </div>
            `;
            return tabla;
        }

        function generarTablaGrupo7(actividades, idClasificacion) {
            const idsConResponsable = [21, 23, 30, 37, 137];
            const incluyeResponsable = idsConResponsable.includes(parseInt(idClasificacion));
            let tableHeaders = `
                <th width="20%" class="text-center">Fecha de examen de titulación</th>
                <th width="20%" class="text-center">Nombre de la o del estudiante</th>
                <th width="20%" class="text-center">Título de tesis</th>
                ${incluyeResponsable ? '<th width="20%" class="text-center">Responsable de la dirección de tesis</th>' : ''}
                <th width="20%" class="text-center">Programa educativo</th>
                <th width="20%" class="text-center">Unidad académica</th>
                <th width="20%" class="text-center">Institución que otorga el grado</th>
                <th width="20%" class="text-center">Institución</th>
                <th width="20%" class="text-center">Fecha de inicio</th>
                <th width="20%" class="text-center">Fecha de término</th>
                <th width="20%" class="text-center">Modalidad</th>
                <th width="20%" class="text-center">Estancia</th>
                <th width="20%" class="text-center">Impacto criterio SEAES</th>
                <th width="30%" class="text-center">Notas</th>
                <th width="20%" class="text-center">Documento</th>
            `;
            let tabla = `
                <div class="table-responsive">
                    <table class="table table-bordered" style="font-size:12px;">
                        <thead><tr>
                            ${tableHeaders}
                        </tr></thead>
                        <tbody>
            `;
            actividades.forEach(function(actividad) {
                let tableRows = `
                    <tr>
                        <td class="borderb" style="text-align: center;">${actividad.fecha1 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.item1 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.item2 || 'No se tiene esa información'}</td>
                        ${incluyeResponsable ? `<td class="borderb" style="text-align: center;">${actividad.item3 || 'No se tiene esa información'}</td>` : ''}
                        ${!incluyeResponsable ? `<td class="borderb" style="text-align: center;">${actividad.item3 || 'No se tiene esa información'}</td>` : ''}
                        <td class="borderb" style="text-align: center;">${actividad.unidadAcademica || 'No contiene unidad académica'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.item5 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.item6 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.fecha2 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.fecha3 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.modalidad || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.estancia || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.criterioSeaes || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.notas_observa || 'No se contienen notas'}</td>
                        <td class="borderb text-center">
                            ${actividad.tokenFile ? `
                                <button class="btn btn-sm btn-pdf btnBlue2 openPdfModal"
                                        data-route="/getFileA/${actividad.tokenFile}/${actividad.idEmpleadoAnterior}">
                                    <i class="fas fa-file-pdf"></i>
                                </button>
                            ` : 'No disponible'}
                        </td>

                    </tr>
                `;
                tabla += tableRows;
            });
            tabla += `
                        </tbody>
                    </table>
                </div>
            `;
            return tabla;
        }

        function generarTablaGrupo8(actividades, idClasificacion) {
            let tabla = '';
            if ([12, 13].includes(parseInt(idClasificacion))) {
                tabla = `
                    <div class="table-responsive">
                        <table class="table table-bordered" style="font-size:12px;">
                            <thead><tr>
                                <th width="20%" class="text-center">Fecha de obtención</th>
                                <th width="20%" class="text-center">Nombre del premio</th>
                                <th width="20%" class="text-center">Categoría/área</th>
                                <th width="20%" class="text-center">Institución que lo otorga</th>
                                <th width="30%" class="text-center">Notas</th>
                                <th width="20%" class="text-center">Documento</th>
                            </tr></thead>
                            <tbody>
                `;
                actividades.forEach(function(actividad) {
                    tabla += `
                        <tr>
                            <td class="borderb" style="text-align: center;">${actividad.fecha1 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item1 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item2 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item3 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.notas_observa || 'No se contienen notas'}</td>
                            <td class="borderb text-center">
                                ${actividad.tokenFile ? `<a href="/getFiles/${actividad.tokenFile}" class="btn btn-sm btn-pdf btnBlue2 openPdfModal"><i class="fas fa-file-pdf"></i></a>` : 'No disponible'}
                            </td>
                        </tr>
                    `;
                });
                tabla += `
                            </tbody>
                        </table>
                    </div>
                `;
            }
            else if (parseInt(idClasificacion) >= 71 && parseInt(idClasificacion) <= 78) {
                tabla = `
                    <div class="table-responsive">
                        <table class="table table-bordered" style="font-size:12px;">
                            <thead><tr>
                                <th width="20%" class="text-center">Fecha del evento</th>
                                <th width="20%" class="text-center">Nombre del evento</th>
                                ${(parseInt(idClasificacion) >= 71 && parseInt(idClasificacion) <= 72) ? `<th width="20%" class="text-center">Nombre de la obra/colección o conferencia según el caso</th>` : ''}
                                <th width="20%" class="text-center">Institución organizadora</th>
                                ${(parseInt(idClasificacion) >= 71 && parseInt(idClasificacion) <= 72) ? `<th width="20%" class="text-center">Participación</th><th width="20%" class="text-center">Modalidad</th>` : ''}
                                <th width="20%" class="text-center">Organismo que otorgó recurso</th>
                                <th width="20%" class="text-center">Actividad realizada a través de Convenio</th>
                                <th width="20%" class="text-center">Impacto criterio SEAES</th>
                                <th width="20%"class="text-center">Notas</th>
                                <th width="10%" class="text-center">Documento</th>
                            </tr></thead>
                            <tbody>
                `;
                actividades.forEach(function(actividad) {
                    tabla += `
                        <tr>
                            <td class="borderb" style="text-align: center;">${actividad.fecha1 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item1 || 'No se tiene esa información'}</td>
                            ${(parseInt(idClasificacion) >= 71 && parseInt(idClasificacion) <= 72) ? `<td class="borderb" style="text-align: center;">${actividad.item2 || 'No se tiene esa información'}</td>` : ''}
                            <td class="borderb" style="text-align: center;">${actividad.item3 || 'No se tiene esa información'}</td>
                            ${(parseInt(idClasificacion) >= 71 && parseInt(idClasificacion) <= 72) ? `<td class="borderb" style="text-align: center;">${actividad.participacion || 'No se tiene esa información'}</td><td class="borderb" style="text-align: center;">${actividad.modalidad || 'No se tiene esa información'}</td>` : ''}
                            <td class="borderb" style="text-align: center;">${actividad.item4 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item5 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.criterioSeaes || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.notas_observa || 'No se contienen notas'}</td>
                            <td class="borderb text-center">
                                ${actividad.tokenFile ? `<a href="/getFiles/${actividad.tokenFile}" class="btn btn-sm btn-pdf btnBlue2 openPdfModal"><i class="fas fa-file-pdf"></i></a>` : 'No disponible'}
                            </td>
                        </tr>
                    `;
                });
                tabla += `
                            </tbody>
                        </table>
                    </div>
                `;
            }
            else if (parseInt(idClasificacion) >= 101 && parseInt(idClasificacion) <= 102) {
                tabla = `
                    <div class="table-responsive">
                        <table class="table table-bordered" style="font-size:12px;">
                            <thead><tr>
                                <th width="20%" class="text-center">Inicio del periodo</th>
                                <th width="20%" class="text-center">Término del periodo</th>
                                <th width="20%" class="text-center">Título de la revista</th>
                                <th width="20%" class="text-center">Participación</th>
                                <th width="30%" class="text-center">Notas</th>
                                <th width="10%" class="text-center">Documento</th>
                            </tr></thead>
                            <tbody>
                `;
                actividades.forEach(function(actividad) {
                    tabla += `
                        <tr>
                            <td class="borderb" style="text-align: center;">${actividad.fecha1 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.fecha2 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item1 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.participacion || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.notas_observa || 'No se contienen notas'}</td>
                            <td class="borderb text-center">
                                ${actividad.tokenFile ? `<a href="/getFiles/${actividad.tokenFile}" class="btn btn-sm btn-pdf btnBlue2 openPdfModal"><i class="fas fa-file-pdf"></i></a>` : 'No disponible'}
                            </td>
                        </tr>
                    `;
                });
                tabla += `
                            </tbody>
                        </table>
                    </div>
                `;
            }
            return tabla;
        }

        function generarTablaGrupo9(actividades, idClasificacion) {
            let tabla = '';
            if (parseInt(idClasificacion) == 115) {
                tabla = `
                    <div class="table-responsive">
                        <table class="table table-bordered" style="font-size:12px;">
                            <thead><tr>
                                <th width="20%"class="text-center">Fecha de conclusión de la evaluación</th>
                                <th width="20%"class="text-center">Convocatoria</th>
                                <th width="20%"class="text-center">Institución u organismo</th>
                                <th width="20%" class="text-center">Número de proyectos</th>
                                <th width="30%"class="text-center">Notas</th>
                                <th width="10%" class="text-center">Documento</th>
                            </tr></thead>
                            <tbody>
                `;
                actividades.forEach(function(actividad) {
                    tabla += `
                        <tr>
                            <td class="borderb" style="text-align: center;">${actividad.fecha1 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.convocatoria || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item4 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item5 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.notas_observa || 'No se contienen notas'}</td>
                            <td class="borderb text-center">
                                ${actividad.tokenFile ? `<a href="/getFiles/${actividad.tokenFile}" class="btn btn-sm btn-pdf btnBlue2 openPdfModal"><i class="fas fa-file-pdf"></i></a>` : 'No disponible'}
                            </td>
                        </tr>
                    `;
                });
                tabla += `
                            </tbody>
                        </table>
                    </div>
                `;
            } else {
                tabla = `
                    <div class="table-responsive">
                        <table class="table table-bordered" style="font-size:12px;">
                            <thead><tr>
                                <th width="20%"class="text-center">Inicio de la actividad</th>
                                <th width="20%"class="text-center">Término de la actividad</th>
                                <th width="20%"class="text-center">Nombre de la Comisión</th>
                                <th width="20%"class="text-center">Institución u organismo</th>
                                <th width="30%"class="text-center">Notas</th>
                                <th width="10%" class="text-center">Documento</th>
                            </tr></thead>
                            <tbody>
                `;
                actividades.forEach(function(actividad) {
                    tabla += `
                        <tr>
                            <td class="borderb" style="text-align: center;">${actividad.fecha1 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.fecha2 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item1 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item2 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.notas_observa || 'No se contienen notas'}</td>
                            <td class="borderb text-center">
                                ${actividad.tokenFile ? `<a href="/getFiles/${actividad.tokenFile}" class="btn btn-sm btn-pdf btnBlue2 openPdfModal"><i class="fas fa-file-pdf"></i></a>` : 'No disponible'}
                            </td>
                        </tr>
                    `;
                });
                tabla += `
                            </tbody>
                        </table>
                    </div>
                `;
            }
            return tabla;
        }

        function generarTablaGrupo10(actividades, idClasificacion) {
            let tabla = '';
            if ([55, 56, 57, 58].includes(parseInt(idClasificacion))) {
                tabla = `
                    <div class="table-responsive">
                        <table class="table table-bordered" style="font-size:12px;">
                            <thead><tr>
                                <th width="10%" class="text-center">${parseInt(idClasificacion) == 55 ? 'Fecha registro' : 'Inicio vigencia'}</th>
                                ${parseInt(idClasificacion) != 55 ? `<th width="10%" class="text-center">Término vigencia</th>` : ''}
                                <th width="20%" class="text-center">${(parseInt(idClasificacion) == 56 || parseInt(idClasificacion) == 55) ? 'Título de la patente' :
                                        (parseInt(idClasificacion) == 57 ? 'Título del licenciamiento' :
                                        (parseInt(idClasificacion) == 58 ? 'Título de la transferencia tecnológica' : 'Título del producto'))}</th>
                                <th width="20%" class="text-center">Número de registro</th>
                                <th width="20%" class="text-center">Impacto criterio SEAES</th>
                                <th width="30%" class="text-center">Notas</th>
                                <th width="10%" class="text-center">Documento</th>
                            </tr></thead>
                            <tbody>
                `;
                actividades.forEach(function(actividad) {
                    tabla += `
                        <tr>
                            <td class="borderb" style="text-align: center;">${actividad.fecha1 || 'No se tiene esa información'}</td>
                            ${parseInt(idClasificacion) != 55 ? `<td class="borderb" style="text-align: center;">${actividad.fecha2 || 'No se tiene esa información'}</td>` : ''}
                            <td class="borderb" style="text-align: center;">${actividad.item1 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item2 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.criterioSeaes || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.notas_observa || 'No se contienen notas'}</td>
                            <td class="borderb text-center">
                                ${actividad.tokenFile ? `<a href="/getFiles/${actividad.tokenFile}" class="btn btn-sm btn-pdf btnBlue2 openPdfModal"><i class="fas fa-file-pdf"></i></a>` : 'No disponible'}
                            </td>
                        </tr>
                    `;
                });
                tabla += `
                            </tbody>
                        </table>
                    </div>
                `;
            } else {
                // IDs 81 to 91
                let tableHeaders = `
                    <th width="20%">Fecha de publicación</th>
                    <th width="20%" class="text-center">Título de la publicación</th>
                    <th width="20%" class="text-center">Revista</th>
                    <th width="20%"class="text-center">ISSN</th>
                    ${(parseInt(idClasificacion) >= 82 && parseInt(idClasificacion) <= 87) ? `<th width="20%" class="text-center">Liga de acceso</th>` : ''}
                    <th width="20%" class="text-center">Participación en la publicación</th>
                    <th width="20%" class="text-center">Idioma en que se realizó la publicación</th>
                    <th width="20%" class="text-center">Alcance de la revista</th>
                    <th width="20%" class="text-center">El artículo se realizó en coautoría con académicos extranjeros</th>
                    <th width="20%" class="text-center">Nacionalidad del académico extranjero</th>
                    <th width="20%" class="text-center">Impacto criterio SEAES</th>
                    <th width="20%"class="text-center">Estatus</th>
                    <th width="20%"class="text-center">Notas</th>
                    <th width="20%" class="text-center">Documento</th>
                `;
                let tableRows = '';
                actividades.forEach(function(actividad) {
                    tableRows += `
                        <tr>
                            <td class="borderb" style="text-align: center;">${actividad.fecha1 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item1 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item2 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item3 || 'No se tiene esa información'}</td>
                            ${(parseInt(idClasificacion) >= 82 && parseInt(idClasificacion) <= 87) ? `<td class="borderb" style="text-align: center;">${actividad.item4 || 'No se tiene esa información'}</td>` : ''}
                            <td class="borderb" style="text-align: center;">${actividad.participacion || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item5 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item6 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item7 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.item8 || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.criterioSeaes || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.estatus || 'No se tiene esa información'}</td>
                            <td class="borderb" style="text-align: center;">${actividad.notas_observa || 'No se contienen notas'}</td>
                            <td class="borderb text-center">
                                ${actividad.tokenFile ? `<a href="/getFiles/${actividad.tokenFile}" class="btn btn-sm btn-pdf btnBlue2 openPdfModal"><i class="fas fa-file-pdf"></i></a>` : 'No disponible'}
                            </td>
                        </tr>
                    `;
                });
                // Specific adjustments for IDs 85 and 87
                if (parseInt(idClasificacion) == 85 || parseInt(idClasificacion) == 87) {
                    tableHeaders = `
                        <th width="20%">Fecha de publicación</th>
                        <th width="20%" class="text-center">Título de la publicación</th>
                        <th width="20%" class="text-center">Revista</th>
                        <th width="20%"class="text-center">ISSN</th>
                        <th width="20%" class="text-center">Liga de acceso</th>
                        <th width="20%" class="text-center">Nombre de la o del estudiante</th>
                        <th width="20%" class="text-center">Programa educativo</th>
                        <th width="20%" class="text-center">Semestre</th>
                        <th width="20%" class="text-center">Participación en la publicación</th>
                        <th width="20%" class="text-center">Idioma en que se realizó la publicación</th>
                        <th width="20%" class="text-center">Alcance de la revista</th>
                        <th width="20%" class="text-center">El artículo se realizó en coautoría con académicos extranjeros</th>
                        <th width="20%" class="text-center">Nacionalidad del académico extranjero</th>
                        <th width="20%" class="text-center">Impacto criterio SEAES</th>
                        <th width="20%"class="text-center">Estatus</th>
                        <th width="20%"class="text-center">Notas</th>
                        <th width="20%" class="text-center">Documento</th>
                    `;
                    tableRows = '';
                    actividades.forEach(function(actividad) {
                        tableRows += `
                            <tr>
                                <td class="borderb" style="text-align: center;">${actividad.fecha1 || 'No se tiene esa información'}</td>
                                <td class="borderb" style="text-align: center;">${actividad.item1 || 'No se tiene esa información'}</td>
                                <td class="borderb" style="text-align: center;">${actividad.item2 || 'No se tiene esa información'}</td>
                                <td class="borderb" style="text-align: center;">${actividad.item3 || 'No se tiene esa información'}</td>
                                <td class="borderb" style="text-align: center;">${actividad.item4 || 'No se tiene esa información'}</td>
                                <td class="borderb" style="text-align: center;">${actividad.item5 || 'No se tiene esa información'}</td>
                                <td class="borderb" style="text-align: center;">${actividad.item6 || 'No se tiene esa información'}</td>
                                <td class="borderb" style="text-align: center;">${actividad.item7 || 'No se tiene esa información'}</td>
                                <td class="borderb" style="text-align: center;">${actividad.item8 || 'No se tiene esa información'}</td>
                                <td class="borderb" style="text-align: center;">${actividad.item9 || 'No se tiene esa información'}</td>
                                <td class="borderb" style="text-align: center;">${actividad.item10 || 'No se tiene esa información'}</td>
                                <td class="borderb" style="text-align: center;">${actividad.item11 || 'No se tiene esa información'}</td>
                                <td class="borderb" style="text-align: center;">${actividad.criterioSeaes || 'No se tiene esa información'}</td>
                                <td class="borderb" style="text-align: center;">${actividad.participacion || 'No se tiene esa información'}</td>
                                <td class="borderb" style="text-align: center;">${actividad.estatus || 'No se tiene esa información'}</td>
                                <td class="borderb" style="text-align: center;">${actividad.notas_observa || 'No se contienen notas'}</td>
                                <td class="borderb text-center">
                                    ${actividad.tokenFile ? `<a href="/getFiles/${actividad.tokenFile}" class="btn btn-sm btn-pdf btnBlue2 openPdfModal"><i class="fas fa-file-pdf"></i></a>` : 'No disponible'}
                                </td>
                            </tr>
                        `;
                    });
                }
                tabla = `
                    <div class="table-responsive">
                        <table class="table table-bordered" style="font-size:11px;">
                            <thead><tr>
                                ${tableHeaders}
                            </tr></thead>
                            <tbody>
                                ${tableRows}
                            </tbody>
                        </table>
                    </div>
                `;
            }
            return tabla;
        }

        function generarTablaGrupo11(actividades) {
            let tabla = `
                <div class="table-responsive">
                    <table class="table table-bordered" style="font-size:12px;">
                        <thead><tr>
                            <th width="10%">Inicio del semestre</th>
                            <th width="10%">Término del semestre</th>
                            <th width="10%">Unidad de aprendizaje</th>
                            <th width="20%">Programa educativo</th>
                            <th width="10%">Número hsm</th>
                            <th width="10%">Unidad Académica</th>
                            <th width="10%"class="text-center">Notas</th>
                            <th width="10%" class="text-center">Documento</th>
                        </tr></thead>
                        <tbody>
            `;
            actividades.forEach(function(actividad) {
                tabla += `
                    <tr>
                        <td class="borderb" style="text-align: center;">${actividad.fecha1 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.fecha2 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.item1 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.item2 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.item5 || 'No se tiene esa información'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.unidadAcademica || 'No contiene unidad académica'}</td>
                        <td class="borderb" style="text-align: center;">${actividad.notas_observa || 'No se contienen notas'}</td>
                        <td class="borderb text-center">
                            <div class="d-flex justify-content-center gap-1">
                                ${actividad.tokenFile ?
                                    `<button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFiles/${actividad.tokenFile}">
                                        <i class="fas fa-file-pdf"></i>
                                    </button>` : ''}
                                ${actividad.tokenFile2 ?
                                    `<button class="btn btn-sm btn-pdf btnBlue2 openPdfModal" data-route="/getFiles/${actividad.tokenFile2}">
                                        <i class="fas fa-file-pdf"></i>
                                    </button>` : ''}
                                ${!actividad.tokenFile && !actividad.tokenFile2 ? 'No disponible' : ''}
                            </div>
                        </td>
                    </tr>
                `;
            });
            tabla += `
                        </tbody>
                    </table>
                </div>
            `;
            return tabla;
        }
    });
    function generarDocumentos(idEmpleadoAnterior) {
        var reportePerGenerado = false;
        var cartaCPerGenerada = false;
        var SolicitudPerExcGenerada = false;
        var totalRequests = 0;
        var successfulResponses = 0;

        // Function to send requests to generate documents
        function enviarSolicitud(url) {
            totalRequests++;  // Increase total request count
            $.ajax({
                url: url,
                method: 'POST',
                data: {
                    _token: "DXfReZHfKYJS5uPGD5nZaVHoMflOFsKuS1Jde4Nf",
                    idEmpleadoAnterior: idEmpleadoAnterior // Ensure to pass this parameter
                },
                success: function(response) {
                    if (response.success) {
                        successfulResponses++; // Increment successful responses
                    } else {
                        console.error("Error generating document at: " + url);
                    }
                },
                error: function() {
                    console.error("Error in AJAX request for: " + url);
                }
            });
        }

        // Send requests to generate the three documents
        enviarSolicitud("https://ripppajesus.uaem.mx/reporteEs");
        enviarSolicitud("https://ripppajesus.uaem.mx/cartaC");
        enviarSolicitud("https://ripppajesus.uaem.mx/cartaExc");

        // Check when all requests are completed
        var interval = setInterval(function() {
            if (successfulResponses === totalRequests) {
                clearInterval(interval);
                $('#documentsModal').modal('show');
                $('#cartaCIframe').attr('src', "https://ripppajesus.uaem.mx/getDocuments?document=ccpd_Solicitud_" + idEmpleadoAnterior + ".pdf");
            }
        }, 100); // Check every 100ms
    }
    $('#generateDocumentsBtn').on('click', function() {
        var successfulResponses = 0; // Contador para respuestas exitosas
        var totalRequests = 0;
        var idEmpleadoAnterior = "490";
        var today = new Date().toISOString().slice(0, 19).replace('T', ' ');
        var currentYear = new Date().getFullYear()+1; // Año actual
        var nextYear = currentYear + 1; // Siguiente año

        var alertShown = false;
        $.ajax({
            url: "https://ripppajesus.uaem.mx/validarRegistroActivo",  // Ruta para la validación
            method: 'GET',
            data: {
                _token: "DXfReZHfKYJS5uPGD5nZaVHoMflOFsKuS1Jde4Nf", // Token CSRF
                idEmpleadoAnterior: idEmpleadoAnterior // ID del empleado anterior
            },
            success: function(response) {
                if (response.registroActivo) {
                    // Validar si los documentos ya están cargados
                    $.ajax({
                        url: "https://ripppajesus.uaem.mx/validarRegistroCargado",  // Nueva ruta para validar documentos cargados
                        method: 'GET',
                        data: {
                            _token: "DXfReZHfKYJS5uPGD5nZaVHoMflOFsKuS1Jde4Nf", // Token CSRF
                            idEmpleadoAnterior: idEmpleadoAnterior // ID del empleado anterior
                        },
                        success: function(documentosResponse) {
                            console.log('Documentos cargados:', documentosResponse.documentosCargados);

                            if (documentosResponse.documentosCargados) {
                                // Proceder directamente si NO hay documentos cargados
                                verificarConvocatoria(today, idEmpleadoAnterior);
                            } else {
                                // Mostrar SweetAlert de confirmación si los documentos YA están cargados
                                Swal.fire({
                                    icon: 'warning',
                                    title: 'Aviso Importante',
                                    text: 'A partir de ahora se inicia el proceso de envío de su solicitud para participar en la Convocatoria 2025-2026 del Programa ESDEPED, por lo que la información que haya cargado hasta el momento será la que se considere en el proceso de evaluación. ¿Desea continuar?',
                                    showCancelButton: true,
                                    confirmButtonColor: '#000e62',
                                    cancelButtonColor: '#d33',
                                    confirmButtonText: 'Aceptar',
                                    cancelButtonText: 'Cancelar'
                                }).then((result) => {
                                    if (result.isConfirmed) {
                                        // Proceder con la convocatoria
                                        verificarConvocatoria(today, idEmpleadoAnterior);
                                    }
                                });
                            }
                        },
                        error: function(xhr) {
                            console.log(xhr.responseText); // Manejo de errores
                        }
                    });
                } else {
                    // Registro no activo
                    Swal.fire({
                        icon: 'warning',
                        title: 'Advertencia',
                        text: 'No se encontró un registro activo para este empleado.',
                        confirmButtonColor: '#000e62'
                    });
                }
            },
            error: function(xhr) {
                console.log(xhr.responseText); // Manejo de errores
            }
        });
    });
    function verificarConvocatoria(today, idEmpleadoAnterior) {
        $.ajax({
            url: "https://ripppajesus.uaem.mx/checkConvocatoria",  // Ruta para verificar convocatoria activa
            method: 'GET',
            data: {
                _token: "DXfReZHfKYJS5uPGD5nZaVHoMflOFsKuS1Jde4Nf", // Token CSRF
                today: today // Fecha de hoy
            },
            success: function(convocatoriaResponse) {
                if (convocatoriaResponse.isActive) {
                    // Llamar a la función para generar documentos
                    generarDocumentos(idEmpleadoAnterior);
                } else {
                    // Mostrar SweetAlert si la convocatoria no está activa
                    Swal.fire({
                        icon: 'info',
                        title: `Convocatoria 2025-2026`,
                        text: 'El periodo de la convocatoria no se encuentra activo. Consulte información con Dirección General de Investigación y Posgrados.',
                        confirmButtonColor: '#000e62',
                        confirmButtonText: 'Aceptar'
                    });

                }
            },
            error: function(xhr) {
                console.log(xhr.responseText); // Manejo de errores
            }
        });
    }
    $('#documentTabs a').on('click', function(event) {
        event.preventDefault();
        var target = $(this).attr('href');
        var idEmpleadoAnterior = "490";

        var fileNames = {
            '#reporte': 'ccpd_reporteEsdeped_' + idEmpleadoAnterior + '.pdf',
            '#cartaC': 'ccpd_Solicitud_' + idEmpleadoAnterior + '.pdf',
            '#cartaExc': 'ccpd_cartaExclusividad_' + idEmpleadoAnterior + '.pdf'
        };

        var fileName = fileNames[target];
        $(target + ' iframe').attr('src', "https://ripppajesus.uaem.mx/getDocuments?document=" + fileName);
        $('#documentTabs .nav-link').removeClass('active');
        $(this).addClass('active');
        $('.tab-pane').removeClass('show active');
        $(target).addClass('show active');
    });
    $('#documentsModal .close, #documentsModal .btn-secondary').on('click', function() {
        $('#documentsModal').modal('hide');
        alertShown = false;
    });

    $('#submitFirma').on('click', function() {
        var email = $('#email').val();
        var password = $('#password').val();
        var passwordFirma = $('#passwordFirma').val();
        var idEmpleado = "489";

        if (email === '' || password === '' || passwordFirma === '') {
            alert('Por favor, completa todos los campos.');
            return;
        }

        Swal.fire({
            title: 'Firmando documentos...',
            text: 'Por favor espere un momento.',
            allowOutsideClick: false,
            allowEscapeKey: false,
            didOpen: () => {
                Swal.showLoading();
            }
        });

        $.ajax({
            url: '/firmar_documentoSE',
            method: 'POST',
            data: {
                _token: 'DXfReZHfKYJS5uPGD5nZaVHoMflOFsKuS1Jde4Nf',
                email: email,
                password: password,
                passwordFirma: passwordFirma,
                idEmpleado: idEmpleado,
            },
            success: function(response) {
                console.log(response);

                if (response.success) {
                    // Check if all responses are successful
                    let allSigned = true;
                    response.responses.forEach(function(res) {
                        console.log(res.respuesta);

                        if (!res.success) {
                            allSigned = false;
                            Swal.fire({
                                title: 'Error',
                                text: res.message,
                                icon: 'error'
                            });
                        }
                    });

                    if (allSigned) {
                        // If all documents were signed successfully, send the email
                        Swal.fire({
                            title: 'Documento firmado y enviando correo...',
                            text: 'Espere mientras se envía el correo.',
                            icon: 'success',
                            allowOutsideClick: false,
                            allowEscapeKey: false,
                            didOpen: () => {
                                Swal.showLoading();
                            }
                        });

                        $.ajax({
                            url: 'https://ripppajesus.uaem.mx/enviarCorreo',
                            type: 'POST',
                            data: {
                                _token: 'DXfReZHfKYJS5uPGD5nZaVHoMflOFsKuS1Jde4Nf',
                            },
                            success: function(response) {
                                $('#firmaModal').modal('hide');
                                $('#documentsModal').modal('hide');
                                localStorage.setItem('showDocumentsModal', 'true');

                                if (response.success) {
                                    Swal.fire({
                                        title: 'Correo enviado',
                                        text: response.message,
                                        icon: 'success'
                                    }).then(() => {
                                        Swal.fire({
                                            title: 'Éxito',
                                            text: 'Ha concluido satisfactoriamente el envío de su solicitud para participar en la Convocatoria ESDEPED 2025-2026.',
                                            icon: 'success'
                                        }).then(() => {
                                            location.reload();
                                        });
                                    });
                                } else {
                                    Swal.fire({
                                        title: 'Correo no enviado',
                                        text: response.message,
                                        icon: 'warning'
                                    });
                                }
                            },
                            error: function(xhr, status, error) {
                                Swal.fire({
                                    title: 'Error',
                                    text: 'Ocurrió un error al procesar la solicitud.',
                                    icon: 'error'
                                });
                            }
                        });
                    }
                } else {
                    Swal.fire({
                        title: 'Error',
                        text: response.message,
                        icon: 'error'
                    });
                }
            },
            error: function(xhr) {
                Swal.fire({
                    title: 'Error',
                    text: 'Ocurrió un error al intentar firmar el documento.',
                    icon: 'error'
                });
            }
        });
    });
    $(document).ready(function() {
        var idEmpleadoAnterior = "490";
        if (localStorage.getItem('showDocumentsModal') === 'true') {
            // Mostrar el modal después de la recarga
            $('#documentsModal').modal('show');
            $('#cartaCIframe').attr('src', "https://ripppajesus.uaem.mx/getDocuments?document=ccpd_Solicitud_" + idEmpleadoAnterior + ".pdf");
            // Eliminar la bandera
            localStorage.removeItem('showDocumentsModal');
        }
    });

    $('#btnFirmar').on('click', function() {
        // Mostrar el modal con el ID firmaModal
        $('#firmaModal').modal('show');
        var reportePerGenerado = false;
        var cartaCPerGenerada = false;
        var cartaExcGenerada = false;
        var totalRequests = 0;
        var successfulResponses = 0;
        var idEmpleadoAnterior = "490";
        function enviarSolicitud(url, callback) {
            totalRequests++;
            $.ajax({
                url: url,
                method: 'POST',
                data: {
                    _token: "DXfReZHfKYJS5uPGD5nZaVHoMflOFsKuS1Jde4Nf",
                    idEmpleadoAnterior: idEmpleadoAnterior // Asegúrate de pasar este parámetro
                },
                success: function(response) {
                    if (response.success) {
                        // Llamamos a validarRegistroFirmado para verificar si hay documentos con estatus 3
                        $.ajax({
                            url: "https://ripppajesus.uaem.mx/validarRegistroFirmado",
                            method: 'GET',
                            data: {
                                _token: "DXfReZHfKYJS5uPGD5nZaVHoMflOFsKuS1Jde4Nf",
                                idEmpleadoAnterior: idEmpleadoAnterior
                            },
                            success: function(validationResponse) {
                                const {  faltantesGrupo1 } = validationResponse;

                                // Procesar grupo 1 (tipos 1, 2, 3)
                                if (response.idTipoDocumento === 1 || response.idTipoDocumento === 2 || response.idTipoDocumento === 3) {
                                    if (faltantesGrupo1.includes(response.idTipoDocumento)) {
                                        // Si el tipo actual está en faltantes, proceder con la carga
                                        enviFirma(response.id, response.idTipoDocumento, response.nombre);
                                    }
                                }
                            },
                            error: function() {
                                console.error("Error en la solicitud AJAX para validarRegistroFirmado.");
                            }
                        });

                        successfulResponses++;
                        callback(); // Marca el documento como generado
                    } else {
                        console.error("Error al generar el documento en: " + url);
                    }
                },
                error: function() {
                    console.error("Error en la solicitud AJAX para: " + url);
                }
            });
        }
        // Llamar a enviarSolicitud para cada documento
        if (!reportePerGenerado) {
            enviarSolicitud("https://ripppajesus.uaem.mx/reporteEs", function() {
                reportePerGenerado = true;
            });
        }

        if (!cartaCPerGenerada) {
            enviarSolicitud("https://ripppajesus.uaem.mx/cartaC", function() {
                cartaCPerGenerada = true;
            });
        }

        if (!cartaExcGenerada) {
            enviarSolicitud("https://ripppajesus.uaem.mx/cartaExc", function() {
                cartaExcGenerada = true;
            });
        }
    });
    function enviFirma(idLocal, idTipoDocumento, nombre) {
        $.ajax({
            url: '/cargarFirma',
            method: 'POST',
            data: {
                _token: 'DXfReZHfKYJS5uPGD5nZaVHoMflOFsKuS1Jde4Nf',
                idLocal: idLocal,
                idTipoDocumento: idTipoDocumento,
                nombre: nombre
            },
            success: function(response) {
                setTimeout(function() {
                    if (response.respuesta === 400) {
                        if (!alertShown) { // Mostrar la alerta solo si no ha sido mostrada antes
                            Swal.fire({
                            icon: 'error',
                            title: 'Error',
                            text: 'Ocurrió un error al intentar cargar el documento.',
                            confirmButtonText: 'Aceptar'
                        });
                        alertShown = true; // Marca la alerta como mostrada
                        }
                    }
                }, 500);
            },
            error: function(xhr) {
                setTimeout(function() {
                    if (!alertShown) { // Mostrar la alerta solo si no ha sido mostrada antes
                        Swal.fire({
                            icon: 'error',
                            title: 'Error',
                            text: 'Ocurrió un error al intentar cargar el documento.',
                            confirmButtonText: 'Aceptar'
                        });
                        alertShown = true; // Marca la alerta como mostrada
                    }
                }, 1000);
            }
        });
    }
    $(document).ready(function() {
        // Mostrar y ocultar la contraseña normal
        $('#togglePassword').click(function () {
            const passwordInput = $('#password');
            const type = passwordInput.attr('type') === 'password' ? 'text' : 'password';
            passwordInput.attr('type', type);

            // Cambiar el ícono del ojito
            $(this).toggleClass('fa-eye-slash');
        });

        // Mostrar y ocultar la contraseña de firma electrónica
        $('#togglePasswordFirma').click(function () {
            const passwordFirmaInput = $('#passwordFirma');
            const type = passwordFirmaInput.attr('type') === 'password' ? 'text' : 'password';
            passwordFirmaInput.attr('type', type);

            // Cambiar el ícono del ojito
            $(this).toggleClass('fa-eye-slash');
        });
    });
    $(document).ready(function() {

        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl)
        });

    });

</script>





</body></html>